{"version":3,"sources":["webpack:///./src/i18n/de.json","webpack:///./src/i18n/en.json","webpack:///src/App.vue","webpack:///./src/App.vue?c7a0","webpack:///./src/App.vue","webpack:///./src/utils.js","webpack:///./src/LessonPlanning.js","webpack:///src/components/Delete.vue","webpack:///./src/components/Delete.vue?74c0","webpack:///./src/components/Delete.vue","webpack:///./src/components/Header.vue?0fd9","webpack:///./src/components/Header.vue","webpack:///src/components/Header.vue","webpack:///src/components/Teachers.vue","webpack:///./src/components/Teachers.vue?1a8a","webpack:///./src/components/Teachers.vue","webpack:///src/components/Timetable.vue","webpack:///./src/components/Timetable.vue?03cb","webpack:///./src/components/Timetable.vue","webpack:///./src/TimetableGenerator.js","webpack:///src/components/TimetableOverview.vue","webpack:///./src/components/TimetableOverview.vue?bc3a","webpack:///./src/components/TimetableOverview.vue","webpack:///src/components/School.vue","webpack:///./src/components/School.vue?1d25","webpack:///./src/components/School.vue","webpack:///src/components/Schools.vue","webpack:///./src/components/Schools.vue?9298","webpack:///./src/components/Schools.vue","webpack:///src/components/SchoolClass.vue","webpack:///./src/components/SchoolClass.vue?1999","webpack:///./src/components/SchoolClass.vue","webpack:///./src/router.js","webpack:///./src/i18n/index.js","webpack:///./src/index.js"],"names":["module","exports","_lp","cancel","class","add","config","duplicate","empty","multiple","name","title","close","days","0","1","2","3","4","delete","delete-long","hour","lesson","hours","lesson-ref","teachers","school","export","import","import-file","invalid-import","teacher","timetable","create","generating","missing","reset","lock-lesson","error","invalid","manual","not-selected","App","created","document","this","$t","selectortype_template_index_0_src_App","render","_h","$createElement","_self","_c","key","$route","fullPath","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","utils","generateUID","s4","Math","floor","random","toString","substring","src_LessonPlanning","LessonPlanning","_this","classCallCheck_default","schools","JSON","parse","window","localStorage","ex","forEach","addEventListener","save","schoolId","id","classes","lessons","vue","keys_default","length","push","classId","lessonCount","deleteId","_this2","deleteRec","parent","Array","isArray","item","typeof_default","splice","indexOf","schooldId","origin","copyClass","stringify_default","originLesson","copyLesson","newId","_this3","Delete","data","lessonPlanning","props","components_Delete","_vm","directives","rawName","modifiers","hover","staticClass","color","attrs","on","click","$event","$refs","deleteModal","show","_v","ref","hide-footer","_s","_f","hide","variant","$emit","src_components_Delete","Delete_normalizeComponent","components_Header","toggleable","type","to","version","xmlns","width","height","viewBox","preserveAspectRatio","transform","fill","stroke","d","_t","src_components_Header","Header_normalizeComponent","Teachers","components","lp-delete","params","methods","addTeacher","$hide","teacherModal","components_Teachers","size","scope","_l","index","placeholder","model","value","callback","$$v","$set","expression","day","options","change","on-delete","src_components_Teachers","Teachers_normalizeComponent","Timetable","maxHours","plan","lessonSelect","map","lessonId","text","teacherId","loading","locked","changedManual","previousLesson","dayIndex","hourIndex","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","promise_default","resolve","setTimeout","$forceUpdate","stop","getClassName","components_Timetable","_e","_","unchecked-value","instance","src_components_Timetable","Timetable_normalizeComponent","planPreset","TimetableGenerator","preset","blocked","updateForConfig","flat","classDef","planLesson","getPlanLesson","filter","entry","extends_default","clone","flatted","getFlat","beforeLength","classIds","classIndex","found","i","Error","revertLesson","console","log","lessonShifts","getLessonShifts","_ref","foundSlot","assignLesson","shift","cloneDeep","todos","arguments","undefined","_this4","maxDeep","deep","getFreeLessonSlot","refClasses","split","getClassIdForLesson","tries","_loop","_loop2","_loop3","isSlotBlocked","revertedLessons","set_default","refId","revertedLesson","isCurrIdIncluded","reverted","setBlocked","_ref2","cloneShifts","cloneShift","v","concat","toConsumableArray_default","apply","_ret3","_ret2","_ret","_this5","enableGaps","ids","affectedClasses","affectedId","teacherPlans","getTeacherPlan","dayOrder","sort","dayA","dayB","gapsA","getAmountOfGaps","reduce","b","gapsB","hoursA","hoursB","sortedDayIndex","isValid","idIndex","classPlan","getGaps","sub","teacherConfig","teacherPlan","_this6","_ref3","_this7","iteratePlans","inputClassId","_this8","referencedId","linkedClassId","linkedLesson","join","_this9","_ref4","_this10","setTimetable","serialize","_this11","_ref5","_ref6","_this12","result","_this13","_ref7","lessondId","gaps","lastFound","lengths","TimetableOverview","lp-timetable","active","activeView","plans","reloading","tg","toggle","src_TimetableGenerator","setPlans","generateNewPlan","skipUpdate","_previousLesson","_dayIndex","_hourIndex","lockLesson","update","t0","message","$bvModal","components_TimetableOverview","scopedSlots","_u","fn","proxy","staticStyle","max-height","bg-primary text-light","min-height","School","lp-header","lp-teachers","lp-timetable-overview","TimetableOverview_normalizeComponent","addClass","$router","exportSchool","dataStr","encodeURIComponent","downloadAnchorNode","createElement","setAttribute","body","appendChild","remove","components_School","max-width","vertical","style","src_components_School","School_normalizeComponent","Schools","importError","importSchool","reader","FileReader","onload","event","addSchool","target","importModal","readAsText","schoolImport","files","components_Schools","accept","for","bg-danger text-white","src_components_Schools","Schools_normalizeComponent","SchoolClass","classObj","addLesson","teacherOptions","teacherKey","label","classReferenceOptions","classKey","lessonKey","getAmountOfHours","parseInt","components_SchoolClass","src_components_SchoolClass","SchoolClass_normalizeComponent","Vue","use","Router","router","mode","routes","path","redirect","component","beforeEnter","from","children","replace","i18n","de","en","productionTip","vSelect","BootstrapVue","Vuex","store","Store","state","strict","vuexI18n","plugin","translations","set","src","__webpack_exports__","el","template"],"mappings":"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","file":"static/js/app.7f4b4c78369c5b2c8a73.js","sourcesContent":["module.exports = {\"_lp\":{\"cancel\":\"Abbrechen\",\"class\":{\"add\":\"Klasse hinzufügen\",\"config\":\"Konfiguration\",\"duplicate\":\"Duplizieren\",\"empty\":\"Es wurden noch keine Klassen hinzufügt. Bitte fügen Sie eine Klasse hinzu.\",\"multiple\":\"Klassen\",\"name\":\"Name der Klasse\",\"title\":\"Klasse\"},\"close\":\"Schließen\",\"days\":{\"0\":\"Montag\",\"1\":\"Dienstag\",\"2\":\"Mittwoch\",\"3\":\"Donnerstag\",\"4\":\"Freitag\"},\"delete\":\"Löschen\",\"delete-long\":\"Wollen Sie wirklich fortfahren?\",\"hour\":\"Stunde\",\"lesson\":{\"add\":\"Fach hinzufügen\",\"empty\":\"Es wurden noch keine Fächer hinzufügt. Bitte fügen Sie ein Fach hinzu.\",\"hours\":\"Stunden\",\"lesson-ref\":\"Fach-Referenz\",\"name\":\"Name des Faches\",\"teachers\":\"Lehrer\",\"title\":\"Fach\"},\"school\":{\"add\":\"Schule hinzufügen\",\"export\":\"Schule exportieren\",\"import\":\"Schule importieren\",\"import-file\":\"Schule importieren\",\"invalid-import\":\"Ungültige Datei\",\"name\":\"Name der Schule\",\"title\":\"Schule\"},\"teachers\":{\"add\":\"Lehrer hinzufügen\",\"empty\":\"Es wurden noch kein Lehrer hinzufügt. Bitte fügen Sie einen Lehrer hinzu.\",\"multiple\":\"Lehrer\",\"name\":\"Name des Lehrers\",\"teacher\":\"Lehrer\",\"title\":\"Kollegium\"},\"timetable\":{\"create\":\"Stundenplan erstellen\",\"generating\":\"Generiere Stundenplan...\",\"missing\":\"Es wurde noch kein Stundenplan generiert, bitte erstellen Sie einen Neuen.\",\"reset\":\"Stundenplan zurücksetzen\",\"lock-lesson\":\"Stunde manuell festlegen\",\"error\":{\"title\":\"Fehler\",\"invalid\":\"Ungültige Konfiguration der Stunden. Es konnte kein Stundenplan erstellt werden.\",\"manual\":\"Für diese manuelle Konfiguration konnte kein Stundenplan gefunden werden. Die Änderung wurde rückgangig gemacht.\"}},\"title\":\"Stundenplanung\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/i18n/de.json\n// module id = B4A8\n// module chunks = 1","module.exports = {\"_lp\":{\"cancel\":\"Cancel\",\"class\":{\"add\":\"Add class\",\"config\":\"Configuration\",\"duplicate\":\"Duplizieren\",\"empty\":\"No classes have been added yet. Please add a class.\",\"multiple\":\"Classes\",\"not-selected\":\"Choose a class or add a new one.\",\"title\":\"Class\"},\"close\":\"Close\",\"days\":{\"0\":\"Monday\",\"1\":\"Tuesday\",\"2\":\"Wednesday\",\"3\":\"Thursday\",\"4\":\"Friday\"},\"delete\":\"Delete\",\"delete-long\":\"Do you realy want to continue?\",\"hour\":\"Hour\",\"lesson\":{\"add\":\"Add lesson\",\"empty\":\"No lesson have been added yet. Please add a lesson.\",\"hours\":\"Hours\",\"lesson-ref\":\"Lesson reference\",\"name\":\"Name of lesson\",\"teachers\":\"Teachers\",\"title\":\"Lesson\"},\"school\":{\"add\":\"Add school\",\"export\":\"Export school\",\"import\":\"Import School\",\"import-file\":\"Import School\",\"invalid-import\":\"Invalid file\",\"name\":\"Name of school\",\"title\":\"School\"},\"teachers\":{\"add\":\"Add teacher\",\"empty\":\"No teacher has been added yet. Please add a teacher.\",\"multiple\":\"Teachers\",\"name\":\"Teacher name\",\"teacher\":\"Teacher\",\"title\":\"Teachers\"},\"timetable\":{\"create\":\"Generate Timetable\",\"generating\":\"Generating Timetable...\",\"missing\":\"No Timetable was created before, please generate a new one.\",\"reset\":\"Reset Timetable\",\"lock-lesson\":\"Force lesson manually\",\"error\":{\"title\":\"Error\",\"invalid\":\"Invalid configuration of the lessons. No timetable could be generated.\",\"manual\":\"No timetable could be generated for this manual configuration. The change has been undone.\"}},\"title\":\"Lesson planning\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/i18n/en.json\n// module id = UpdR\n// module chunks = 1","<template>\n  <router-view :key=\"$route.fullPath\" />\n</template>\n\n<script>\nexport default {\n  name: 'App',\n  created() {\n    // set dynamic page title\n    document.title = this.$t('_lp.title');\n  },\n};\n</script>\n\n<style lang=\"scss\">\n  $primary: #880e4f;\n  $info: #c51162;\n\n  @import \"node_modules/vue-select/src/scss/vue-select.scss\";\n  @import 'node_modules/bootstrap/scss/bootstrap';\n  @import 'node_modules/bootstrap-vue/src/index.scss';\n\n  $mdi-font-path: '~@mdi/font/fonts/';\n  @import '~@mdi/font/scss/materialdesignicons.scss';\n\n  html, body {\n    height: 100%;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-view',{key:_vm.$route.fullPath})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5b69d2f8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5b69d2f8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!postcss-loader?{\\\"sourceMap\\\":true}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5b69d2f8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","function generateUID() {\n  function s4() {\n    return Math.floor((1 + Math.random()) * 0x10000)\n      .toString(16)\n      .substring(1);\n  }\n  return `${s4()}${s4()}-${s4()}-${s4()}-${s4()}-${s4()}${s4()}${s4()}`;\n}\n\nexport default {\n  generateUID,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","import vue from './index';\nimport utils from './utils';\n\nclass LessonPlanning {\n  /**\n   * Load all available schools\n   */\n  constructor() {\n    try {\n      this.schools = JSON.parse(window.localStorage.schools);\n    } catch (ex) {\n      this.schools = [];\n    }\n\n    // load schools\n    this.schools.forEach((key) => {\n      try {\n        this[key] = JSON.parse(window.localStorage[key]);\n      } catch (ex) {\n        this[key] = { name: 'invalid school', error: true };\n      }\n    });\n\n    // ensure saved states on browser refresh\n    window.addEventListener('beforeunload', () => this.save());\n  }\n\n  addClass(schoolId) {\n    const id = utils.generateUID();\n    this[schoolId].classes[id] = {\n      lessons: { },\n      name: `${vue.$t('_lp.class.title')} - ${Object.keys(this[schoolId].classes).length + 1}`,\n    };\n\n    return id;\n  }\n\n  /**\n   * Add a new school object to the instance and to the array of available once.\n   *\n   * @param      {any}     school  optional school object\n   * @return     {<type>}  { description_of_the_return_value }\n   */\n  addSchool(school) {\n    const id = utils.generateUID();\n    this.schools.push(id);\n    this[id] = school || {\n      classes: { },\n      lessons: { },\n      name: `${vue.$t('_lp.school.title')} - ${this.schools.length}`,\n      teachers: { },\n    };\n\n    return id;\n  }\n\n  /**\n   * Add a new lesson to a class.\n   *\n   * @param      {string}  schoolId  id of the scool\n   * @param      {string}  classId   id of the class\n   */\n  addLesson(schoolId, classId) {\n    const id = utils.generateUID();\n    const lessonCount = Object.keys(this[schoolId].classes[classId].lessons).length;\n\n    this[schoolId].classes[classId].lessons[id] = {\n      hours: 0,\n      lessons: [],\n      name: `${vue.$t('_lp.lesson.title')} ${lessonCount + 1}`,\n      teachers: [],\n    };\n\n    return id;\n  }\n\n  /**\n   * Add a new lesson to a class.\n   *\n   * @param      {string}  schoolId  id of the scool\n   * @param      {string}  classId   id of the class\n   */\n  addTeacher(schoolId) {\n    const id = utils.generateUID();\n    const lessonCount = Object.keys(this[schoolId].teachers).length;\n\n    this[schoolId].teachers[id] = {\n      name: `${vue.$t('_lp.teachers.teacher')} ${lessonCount + 1}`,\n      days: [\n        [1, 2, 3, 4, 5, 6],\n        [1, 2, 3, 4, 5, 6],\n        [1, 2, 3, 4, 5, 6],\n        [1, 2, 3, 4, 5, 6],\n        [1, 2, 3, 4, 5, 6],\n      ],\n    };\n\n    return id;\n  }\n\n  /**\n   * Search for id references and remove them from the schoold structure.\n   *\n   * @param      {string}  deleteId  id to remove\n   */\n  deleteId(deleteId) {\n    const deleteRec = (parent, id) => {\n      if (parent) {\n        if (Array.isArray(parent[id])) {\n          parent[id].forEach(item => deleteRec(item));\n        } else if (typeof parent[id] === 'object' && parent[id] !== null) {\n          Object.keys(parent[id]).forEach(key => deleteRec(parent[id], key));\n        }\n\n        // when the id should be delted, remove it from the array or delete the object\n        if (deleteId === id) {\n          if (Array.isArray(parent)) {\n            parent.splice(parent.indexOf(id), 1);\n          } else if (parent && parent[id]) {\n            delete parent[id]; // eslint-disable-line no-param-reassign\n          }\n        }\n      }\n    };\n\n    // remove the reference from all schools\n    this.schools.forEach((schoolId) => {\n      // delete all id references\n      deleteRec(this, schoolId);\n\n      // remove the whole\n      if (schoolId === deleteId) {\n        delete window.localStorage[deleteId];\n        this.schools.splice(this.schools.indexOf(deleteId), 1);\n      }\n    });\n  }\n\n  /**\n   * Copy a class definition and assign it to a new id.\n   *\n   * @param      {string}  schooldId  id of school, where the class is added\n   * @param      {string}  id         class id to copy\n   * @return     {string}  new copied id\n   */\n  duplicate(schooldId, id) {\n    const origin = this[schooldId];\n    const copyClass = JSON.parse(JSON.stringify(origin.classes[id]));\n    copyClass.lessons = {};\n\n    // assign new id's to the lessons\n    Object\n      .keys(origin.classes[id].lessons)\n      .forEach((key) => {\n        const originLesson = origin.classes[id].lessons[key];\n\n        // copy lesson and reset values\n        const copyLesson = JSON.parse(JSON.stringify(originLesson));\n        copyLesson.teachers = [];\n        copyLesson.lessons = [];\n\n        copyClass.lessons[utils.generateUID()] = copyLesson;\n      });\n\n    // assign to new id\n    const newId = utils.generateUID();\n    this[schooldId].classes[newId] = copyClass;\n\n    return newId;\n  }\n\n  /**\n   * Set the active plans for a specific school\n   *\n   * @param      {string}      schoolId  school id to set the plans for\n   * @param      {Array<any>}  plans     plans to set\n   */\n  setTimetable(schoolId, timetable) {\n    this[schoolId].timetable = timetable;\n  }\n\n  /**\n   * Save the current states to the browser localStorage.\n   */\n  save() {\n    window.localStorage.schools = JSON.stringify(this.schools);\n    this.schools.forEach((key) => {\n      window.localStorage[key] = JSON.stringify(this[key]);\n    });\n  }\n}\n\nexport default new LessonPlanning();\n\n\n\n// WEBPACK FOOTER //\n// ./src/LessonPlanning.js","<template>\n  <div>\n    <i\n      :class=\"`text-${color}`\"\n      :title=\"$t(`_lp.delete`)\"\n      @click=\"$refs.deleteModal.show()\"\n      class=\"mdi mdi-delete h4 ml-3 d-flex align-items-center mb-0 h-100\"\n      v-b-tooltip.hover\n    />\n\n    <b-modal\n      ref=\"deleteModal\"\n      :title=\"$t('_lp.delete')\"\n      hide-footer>\n      <p class=\"my-4\">\n        {{ '_lp.delete-long' | translate }}\n      </p>\n\n      <div class=\"text-right\">\n        <b-button\n          class=\"mt-3\"\n          @click=\"$refs.deleteModal.hide();\">\n          {{ '_lp.cancel' | translate }}\n        </b-button>\n        <b-button\n          class=\"mt-3\"\n          variant=\"danger\"\n          @click=\"\n            $refs.deleteModal.hide();\n            lessonPlanning.deleteId(id);\n            $emit('on-delete');\n          \">\n          {{ '_lp.delete' | translate }}\n        </b-button>\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport lessonPlanning from '../LessonPlanning';\n\nexport default {\n  name: 'Delete',\n  data() {\n    return {\n      lessonPlanning,\n    };\n  },\n  props: ['id', 'color'],\n};\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Delete.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('i',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"mdi mdi-delete h4 ml-3 d-flex align-items-center mb-0 h-100\",class:(\"text-\" + _vm.color),attrs:{\"title\":_vm.$t(\"_lp.delete\")},on:{\"click\":function($event){return _vm.$refs.deleteModal.show()}}}),_vm._v(\" \"),_c('b-modal',{ref:\"deleteModal\",attrs:{\"title\":_vm.$t('_lp.delete'),\"hide-footer\":\"\"}},[_c('p',{staticClass:\"my-4\"},[_vm._v(\"\\n      \"+_vm._s(_vm._f(\"translate\")('_lp.delete-long'))+\"\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"text-right\"},[_c('b-button',{staticClass:\"mt-3\",on:{\"click\":function($event){return _vm.$refs.deleteModal.hide();}}},[_vm._v(\"\\n        \"+_vm._s(_vm._f(\"translate\")('_lp.cancel'))+\"\\n      \")]),_vm._v(\" \"),_c('b-button',{staticClass:\"mt-3\",attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){_vm.$refs.deleteModal.hide();\n          _vm.lessonPlanning.deleteId(_vm.id);\n          _vm.$emit('on-delete');}}},[_vm._v(\"\\n        \"+_vm._s(_vm._f(\"translate\")('_lp.delete'))+\"\\n      \")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8f769416\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Delete.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8f769416\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!postcss-loader?{\\\"sourceMap\\\":true}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Delete.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Delete.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Delete.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8f769416\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Delete.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8f769416\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Delete.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-navbar',{attrs:{\"toggleable\":\"lg\",\"type\":\"dark\",\"variant\":\"primary\"}},[_c('b-navbar-brand',{staticClass:\"d-flex align-items-center\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_c('svg',{attrs:{\"version\":\"1.0\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"40px\",\"height\":\"40px\",\"viewBox\":\"0 0 512.000000 512.000000\",\"preserveAspectRatio\":\"xMidYMid meet\"}},[_c('g',{attrs:{\"transform\":\"translate(0.000000,512.000000) scale(0.100000,-0.100000)\",\"fill\":\"#ffffff\",\"stroke\":\"none\"}},[_c('path',{attrs:{\"d\":\"M2470 4136 c-71 -19 -2444 -857 -2457 -868 -7 -6 -13 -21 -13 -35 0\\n        -19 9 -28 42 -43 24 -10 583 -229 1243 -485 1087 -424 1203 -467 1245 -463 27\\n        3 489 178 1175 445 l1130 441 3 -551 2 -551 -36 -30 c-97 -79 -96 -223 0 -303\\n        l37 -30 -15 -37 c-45 -108 -102 -395 -94 -476 17 -175 241 -236 352 -97 27 34\\n        31 48 34 115 5 110 -49 364 -102 483 -5 10 1 20 19 29 14 8 39 34 55 59 25 37\\n        30 54 30 106 0 51 -5 69 -28 104 -15 23 -38 48 -50 57 l-22 15 0 590 c0 424 3\\n        594 11 608 8 12 9 23 2 36 -7 12 -384 149 -1237 450 -674 238 -1239 435 -1254\\n        438 -15 3 -47 -1 -72 -7z\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"M782 2358 c4 -348 6 -377 26 -438 139 -420 772 -737 1579 -789 399\\n        -26 902 70 1260 239 305 145 500 327 577 538 19 53 20 84 24 441 3 314 1 383\\n        -10 378 -522 -209 -1696 -657 -1721 -657 -21 0 -360 127 -882 330 -465 182\\n        -849 330 -852 330 -3 0 -3 -168 -1 -372z\"}})])])]),_vm._v(\" \"),_c('div',{staticClass:\"text-white ml-3\"},[_vm._v(\"\\n      \"+_vm._s(_vm._f(\"translate\")('_lp.title'))+\"\\n    \")])],1),_vm._v(\" \"),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-18690e30\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Header.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Header.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Header.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-18690e30\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Header.vue\n// module id = null\n// module chunks = ","<template>\n  <b-navbar toggleable=\"lg\" type=\"dark\" variant=\"primary\">\n    <b-navbar-brand class=\"d-flex align-items-center\">\n      <router-link to=\"/\">\n        <svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"40px\" height=\"40px\" viewBox=\"0 0 512.000000 512.000000\"\n          preserveAspectRatio=\"xMidYMid meet\">\n          <g transform=\"translate(0.000000,512.000000) scale(0.100000,-0.100000)\"\n          fill=\"#ffffff\" stroke=\"none\">\n          <path d=\"M2470 4136 c-71 -19 -2444 -857 -2457 -868 -7 -6 -13 -21 -13 -35 0\n          -19 9 -28 42 -43 24 -10 583 -229 1243 -485 1087 -424 1203 -467 1245 -463 27\n          3 489 178 1175 445 l1130 441 3 -551 2 -551 -36 -30 c-97 -79 -96 -223 0 -303\n          l37 -30 -15 -37 c-45 -108 -102 -395 -94 -476 17 -175 241 -236 352 -97 27 34\n          31 48 34 115 5 110 -49 364 -102 483 -5 10 1 20 19 29 14 8 39 34 55 59 25 37\n          30 54 30 106 0 51 -5 69 -28 104 -15 23 -38 48 -50 57 l-22 15 0 590 c0 424 3\n          594 11 608 8 12 9 23 2 36 -7 12 -384 149 -1237 450 -674 238 -1239 435 -1254\n          438 -15 3 -47 -1 -72 -7z\"/>\n          <path d=\"M782 2358 c4 -348 6 -377 26 -438 139 -420 772 -737 1579 -789 399\n          -26 902 70 1260 239 305 145 500 327 577 538 19 53 20 84 24 441 3 314 1 383\n          -10 378 -522 -209 -1696 -657 -1721 -657 -21 0 -360 127 -882 330 -465 182\n          -849 330 -852 330 -3 0 -3 -168 -1 -372z\"/>\n          </g>\n        </svg>\n      </router-link>\n      <div class=\"text-white ml-3\">\n        {{ '_lp.title' | translate }}\n      </div>\n    </b-navbar-brand>\n    <slot />\n  </b-navbar>\n</template>\n\n<script>\nexport default {\n  name: 'Header',\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Header.vue","<template>\n  <div>\n    <b-modal\n      :title=\"$t('_lp.teachers.title')\"\n      hide-footer\n      ref=\"teacherModal\"\n      size=\"xl\">\n      <div\n        class=\"text-center p-5\"\n        v-if=\"teachers.length === 0\">\n        <p>\n          {{ '_lp.teachers.empty' | translate }}\n        </p>\n\n        <b-button\n          class=\"mt-3\"\n          variant=\"primary\"\n          @click=\"addTeacher()\">\n          {{ '_lp.teachers.add' | translate }}\n        </b-button>\n      </div>\n      <div v-else>\n        <table class=\"table border\">\n          <thead>\n            <tr>\n              <th class=\"bg-white\" scope=\"col\">{{ '_lp.teachers.name' | translate }}</th>\n              <th class=\"bg-white\" scope=\"col\">{{ '_lp.days.0' | translate }}</th>\n              <th class=\"bg-white\" scope=\"col\">{{ '_lp.days.1' | translate }}</th>\n              <th class=\"bg-white\" scope=\"col\">{{ '_lp.days.2' | translate }}</th>\n              <th class=\"bg-white\" scope=\"col\">{{ '_lp.days.3' | translate }}</th>\n              <th class=\"bg-white\" scope=\"col\">{{ '_lp.days.4' | translate }}</th>\n              <th class=\"bg-white\" scope=\"col\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              class=\"bg-light\"\n              v-for=\"(teacher, index) in teachers\"\n              :key=\"teacher\">\n              <th>\n                <b-form-input\n                  v-model=\"school.teachers[teacher].name\"\n                  :placeholder=\"$t('_lp.teachers.name')\"\n                />\n              </th>\n              <td\n                :key=\"index\"\n                v-for=\"(day, index) in school.teachers[teacher].days\">\n                <v-select\n                  :options=\"[1,2,3,4,5,6,7,8]\"\n                  multiple\n                  v-model=\"school.teachers[teacher].days[index]\"\n                  @change=\"$set(\n                    school.teachers[teacher].days,\n                    index,\n                    school.teachers[teacher].days[index]\n                  )\">\n                </v-select>\n              </td>\n              <td>\n                <lp-delete\n                  :id=\"teacher\"\n                  @on-delete=\"teachers.splice(index, 1)\"\n                  color=\"dark\"\n                />\n              </td>\n            </tr>\n            <tr>\n              <td class=\"text-right table-light border-top\">\n                <b-button\n                  variant=\"primary\"\n                  @click=\"addTeacher()\">\n                  {{ '_lp.teachers.add' | translate }}\n                </b-button>\n              </td>\n              <td class=\"table-light border-top\" />\n              <td class=\"table-light border-top\" />\n              <td class=\"table-light border-top\" />\n              <td class=\"table-light border-top\" />\n              <td class=\"table-light border-top\" />\n              <td class=\"table-light border-top\" />\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <div class=\"text-right\">\n        <b-button\n          class=\"mt-3\"\n          @click=\"hide();\">\n          {{ '_lp.close' | translate }}\n        </b-button>\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport Delete from './Delete';\nimport lessonPlanning from '../LessonPlanning';\n\nexport default {\n  name: 'Schools',\n  components: {\n    'lp-delete': Delete,\n  },\n  data() {\n    const school = lessonPlanning[this.$route.params.id];\n\n    return {\n      classes: Object.keys(school.classes),\n      school,\n      teachers: Object.keys(school.teachers),\n    };\n  },\n  methods: {\n    addTeacher() {\n      const id = lessonPlanning.addTeacher(this.$route.params.id);\n      this.teachers.push(id);\n    },\n    hide() {\n      this.$hide();\n    },\n    show() {\n      this.$refs.teacherModal.show();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Teachers.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-modal',{ref:\"teacherModal\",attrs:{\"title\":_vm.$t('_lp.teachers.title'),\"hide-footer\":\"\",\"size\":\"xl\"}},[(_vm.teachers.length === 0)?_c('div',{staticClass:\"text-center p-5\"},[_c('p',[_vm._v(\"\\n        \"+_vm._s(_vm._f(\"translate\")('_lp.teachers.empty'))+\"\\n      \")]),_vm._v(\" \"),_c('b-button',{staticClass:\"mt-3\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.addTeacher()}}},[_vm._v(\"\\n        \"+_vm._s(_vm._f(\"translate\")('_lp.teachers.add'))+\"\\n      \")])],1):_c('div',[_c('table',{staticClass:\"table border\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"bg-white\",attrs:{\"scope\":\"col\"}},[_vm._v(_vm._s(_vm._f(\"translate\")('_lp.teachers.name')))]),_vm._v(\" \"),_c('th',{staticClass:\"bg-white\",attrs:{\"scope\":\"col\"}},[_vm._v(_vm._s(_vm._f(\"translate\")('_lp.days.0')))]),_vm._v(\" \"),_c('th',{staticClass:\"bg-white\",attrs:{\"scope\":\"col\"}},[_vm._v(_vm._s(_vm._f(\"translate\")('_lp.days.1')))]),_vm._v(\" \"),_c('th',{staticClass:\"bg-white\",attrs:{\"scope\":\"col\"}},[_vm._v(_vm._s(_vm._f(\"translate\")('_lp.days.2')))]),_vm._v(\" \"),_c('th',{staticClass:\"bg-white\",attrs:{\"scope\":\"col\"}},[_vm._v(_vm._s(_vm._f(\"translate\")('_lp.days.3')))]),_vm._v(\" \"),_c('th',{staticClass:\"bg-white\",attrs:{\"scope\":\"col\"}},[_vm._v(_vm._s(_vm._f(\"translate\")('_lp.days.4')))]),_vm._v(\" \"),_c('th',{staticClass:\"bg-white\",attrs:{\"scope\":\"col\"}})])]),_vm._v(\" \"),_c('tbody',[_vm._l((_vm.teachers),function(teacher,index){return _c('tr',{key:teacher,staticClass:\"bg-light\"},[_c('th',[_c('b-form-input',{attrs:{\"placeholder\":_vm.$t('_lp.teachers.name')},model:{value:(_vm.school.teachers[teacher].name),callback:function ($$v) {_vm.$set(_vm.school.teachers[teacher], \"name\", $$v)},expression:\"school.teachers[teacher].name\"}})],1),_vm._v(\" \"),_vm._l((_vm.school.teachers[teacher].days),function(day,index){return _c('td',{key:index},[_c('v-select',{attrs:{\"options\":[1,2,3,4,5,6,7,8],\"multiple\":\"\"},on:{\"change\":function($event){return _vm.$set(\n                  _vm.school.teachers[teacher].days,\n                  index,\n                  _vm.school.teachers[teacher].days[index]\n                )}},model:{value:(_vm.school.teachers[teacher].days[index]),callback:function ($$v) {_vm.$set(_vm.school.teachers[teacher].days, index, $$v)},expression:\"school.teachers[teacher].days[index]\"}})],1)}),_vm._v(\" \"),_c('td',[_c('lp-delete',{attrs:{\"id\":teacher,\"color\":\"dark\"},on:{\"on-delete\":function($event){return _vm.teachers.splice(index, 1)}}})],1)],2)}),_vm._v(\" \"),_c('tr',[_c('td',{staticClass:\"text-right table-light border-top\"},[_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.addTeacher()}}},[_vm._v(\"\\n                \"+_vm._s(_vm._f(\"translate\")('_lp.teachers.add'))+\"\\n              \")])],1),_vm._v(\" \"),_c('td',{staticClass:\"table-light border-top\"}),_vm._v(\" \"),_c('td',{staticClass:\"table-light border-top\"}),_vm._v(\" \"),_c('td',{staticClass:\"table-light border-top\"}),_vm._v(\" \"),_c('td',{staticClass:\"table-light border-top\"}),_vm._v(\" \"),_c('td',{staticClass:\"table-light border-top\"}),_vm._v(\" \"),_c('td',{staticClass:\"table-light border-top\"})])],2)])]),_vm._v(\" \"),_c('div',{staticClass:\"text-right\"},[_c('b-button',{staticClass:\"mt-3\",on:{\"click\":function($event){return _vm.hide();}}},[_vm._v(\"\\n        \"+_vm._s(_vm._f(\"translate\")('_lp.close'))+\"\\n      \")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0e09c380\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Teachers.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0e09c380\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!postcss-loader?{\\\"sourceMap\\\":true}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Teachers.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Teachers.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Teachers.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0e09c380\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Teachers.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0e09c380\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Teachers.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"px-5 py-3\">\n    <h3>{{ timetable.name }}</h3>\n\n    <table class=\"table border\" v-if=\"!loading\">\n      <thead>\n        <tr>\n          <th class=\"bg-white\" scope=\"col\">{{ '_lp.hour' | translate }}</th>\n          <th class=\"bg-white\" scope=\"col\">{{ '_lp.days.0' | translate }}</th>\n          <th class=\"bg-white\" scope=\"col\">{{ '_lp.days.1' | translate }}</th>\n          <th class=\"bg-white\" scope=\"col\">{{ '_lp.days.2' | translate }}</th>\n          <th class=\"bg-white\" scope=\"col\">{{ '_lp.days.3' | translate }}</th>\n          <th class=\"bg-white\" scope=\"col\">{{ '_lp.days.4' | translate }}</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr\n          :key=\"hour\"\n          class=\"bg-light\"\n          v-for=\"(_, hour) in hours\">\n          <th>{{ hour + 1 }}</th>\n          <td\n            :key=\"day\"\n            v-for=\"(_, day) in days\">\n            <div class=\"d-flex\">\n              <b-form-checkbox\n                :title=\"'_lp.timetable.lock-lesson' | translate\"\n                :unchecked-value=\"null\"\n                :value=\"timetable.plan[day][hour] && timetable.plan[day][hour].id\n                  ? timetable.plan[day][hour].id : true\"\n                v-b-tooltip.hover\n                v-model=\"locked[day][hour]\"\n                @change=\"changedManual(\n                  timetable.plan[day][hour] && timetable.plan[day][hour].id\n                    ? timetable.plan[day][hour].id : null,\n                  day,\n                  hour\n                )\"\n              />\n              <div v-if=\"timetable.plan[day][hour] || locked[day][hour]\">\n                <template v-if=\"!locked[day][hour]\">\n                  <b v-if=\"type === 'class'\">\n                    {{ timetable.plan[day][hour].instance.name }}\n                  </b>\n                  <b v-else>\n                    {{ getClassName(timetable.plan[day][hour].classId) }}\n                  </b>\n                </template>\n                <b-form-select\n                  :options=\"lessonSelect\"\n                  @change=\"changedManual($event, day, hour)\"\n                  v-else\n                  v-model=\"locked[day][hour]\"\n                />\n\n                <template v-if=\"timetable.plan[day][hour]\">\n                  <p class=\"mb-0\" v-if=\"type === 'teacher'\">\n                    {{ timetable.plan[day][hour].instance.name }}\n                  </p>\n                  <p class=\"mb-0\" v-else-if=\"timetable.plan[day][hour].teachers\">\n                    <span\n                      v-for=\"teacher in timetable.plan[day][hour].teachers\"\n                      :key=\"teacher\">\n                      {{ teachers[teacher].name }}\n                    </span>\n                  </p>\n                </template>\n              </div>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport lessonPlanning from '../LessonPlanning';\n\nexport default {\n  name: 'Timetable',\n  props: ['timetable', 'type'],\n  data() {\n    // get maximum amount of hours to render\n    let maxHours = 0;\n    this.timetable.plan.forEach((day) => {\n      if (maxHours < day.length) {\n        maxHours = day.length;\n      }\n    });\n\n    let lessonSelect = [];\n    if (this.timetable.classId) {\n      // build select box for manual selecting lessons\n      const classDef = lessonPlanning[this.$route.params.id].classes[this.timetable.classId];\n      const lessons = classDef.lessons;\n      lessonSelect = Object.keys(lessons).map((lessonId) => ({\n        text: lessons[lessonId].name,\n        // IMPORTANT: Use same structure as the `getFlat` method of the TimetableGenerator;\n        value: lessonId,\n      }));\n    } else {\n      const { classes } = lessonPlanning[this.$route.params.id];\n      Object.keys(classes).forEach((classId) => {\n        const { lessons } = classes[classId];\n        Object.keys(lessons).forEach((lessonId) => {\n          const lesson = lessons[lessonId];\n          if (lesson.teachers.indexOf(this.timetable.teacherId) !== -1) {\n            lessonSelect.push({\n              text: `${lesson.name} (${classes[classId].name})`,\n              value: lessonId,\n            });\n          }\n        });\n      });\n    }\n\n    return {\n      days: new Array(5),\n      hours: new Array(maxHours),\n      lessonSelect,\n      loading: true,\n      locked: { },\n      teachers: lessonPlanning[this.$route.params.id].teachers,\n    };\n  },\n  created() {\n    for (let day = 0; day < 5; day += 1) {\n      this.locked[day] = {};\n      for (let hour = 0; hour < 8; hour += 1) {\n        // setup locked info\n        if (this.timetable.plan[day][hour]\n          && this.timetable.plan[day][hour].locked) {\n          this.locked[day][hour] = this.timetable.plan[day][hour].lessonId;\n        } else {\n          this.locked[day][hour] = false;\n        }\n      }\n    }\n\n    this.loading = false;\n  },\n  methods: {\n    /**\n     * The plan has changed manually. Apply the changes or reset a empty object\n     *\n     * @param      {any}     plan    current plan object\n     * @param      {number}  day     day\n     * @param      {number}  hour    hour\n     */\n    async changedManual(previousLesson, dayIndex, hourIndex) {\n      // wait until dropdown was updated\n      await new Promise((resolve) => setTimeout(resolve, 200));\n\n      // only update when the locking was removed or a lesson selected\n      if (this.locked[dayIndex][hourIndex] !== true) {\n        // send update event to parent, so the plan can be recalculated\n        this.$emit('update', {\n          dayIndex,\n          hourIndex,\n          previousLesson,\n          // do not fill this with fallback to previous lesson!\n          lessonId: this.locked[dayIndex][hourIndex],\n        });\n      } else {\n        this.$forceUpdate();\n      }\n    },\n    getClassName(id) {\n      return lessonPlanning[this.$route.params.id].classes[id].name;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Timetable.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"px-5 py-3\"},[_c('h3',[_vm._v(_vm._s(_vm.timetable.name))]),_vm._v(\" \"),(!_vm.loading)?_c('table',{staticClass:\"table border\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"bg-white\",attrs:{\"scope\":\"col\"}},[_vm._v(_vm._s(_vm._f(\"translate\")('_lp.hour')))]),_vm._v(\" \"),_c('th',{staticClass:\"bg-white\",attrs:{\"scope\":\"col\"}},[_vm._v(_vm._s(_vm._f(\"translate\")('_lp.days.0')))]),_vm._v(\" \"),_c('th',{staticClass:\"bg-white\",attrs:{\"scope\":\"col\"}},[_vm._v(_vm._s(_vm._f(\"translate\")('_lp.days.1')))]),_vm._v(\" \"),_c('th',{staticClass:\"bg-white\",attrs:{\"scope\":\"col\"}},[_vm._v(_vm._s(_vm._f(\"translate\")('_lp.days.2')))]),_vm._v(\" \"),_c('th',{staticClass:\"bg-white\",attrs:{\"scope\":\"col\"}},[_vm._v(_vm._s(_vm._f(\"translate\")('_lp.days.3')))]),_vm._v(\" \"),_c('th',{staticClass:\"bg-white\",attrs:{\"scope\":\"col\"}},[_vm._v(_vm._s(_vm._f(\"translate\")('_lp.days.4')))])])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.hours),function(_,hour){return _c('tr',{key:hour,staticClass:\"bg-light\"},[_c('th',[_vm._v(_vm._s(hour + 1))]),_vm._v(\" \"),_vm._l((_vm.days),function(_,day){return _c('td',{key:day},[_c('div',{staticClass:\"d-flex\"},[_c('b-form-checkbox',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"title\":_vm._f(\"translate\")('_lp.timetable.lock-lesson'),\"unchecked-value\":null,\"value\":_vm.timetable.plan[day][hour] && _vm.timetable.plan[day][hour].id\n                ? _vm.timetable.plan[day][hour].id : true},on:{\"change\":function($event){return _vm.changedManual(\n                _vm.timetable.plan[day][hour] && _vm.timetable.plan[day][hour].id\n                  ? _vm.timetable.plan[day][hour].id : null,\n                day,\n                hour\n              )}},model:{value:(_vm.locked[day][hour]),callback:function ($$v) {_vm.$set(_vm.locked[day], hour, $$v)},expression:\"locked[day][hour]\"}}),_vm._v(\" \"),(_vm.timetable.plan[day][hour] || _vm.locked[day][hour])?_c('div',[(!_vm.locked[day][hour])?[(_vm.type === 'class')?_c('b',[_vm._v(\"\\n                  \"+_vm._s(_vm.timetable.plan[day][hour].instance.name)+\"\\n                \")]):_c('b',[_vm._v(\"\\n                  \"+_vm._s(_vm.getClassName(_vm.timetable.plan[day][hour].classId))+\"\\n                \")])]:_c('b-form-select',{attrs:{\"options\":_vm.lessonSelect},on:{\"change\":function($event){return _vm.changedManual($event, day, hour)}},model:{value:(_vm.locked[day][hour]),callback:function ($$v) {_vm.$set(_vm.locked[day], hour, $$v)},expression:\"locked[day][hour]\"}}),_vm._v(\" \"),(_vm.timetable.plan[day][hour])?[(_vm.type === 'teacher')?_c('p',{staticClass:\"mb-0\"},[_vm._v(\"\\n                  \"+_vm._s(_vm.timetable.plan[day][hour].instance.name)+\"\\n                \")]):(_vm.timetable.plan[day][hour].teachers)?_c('p',{staticClass:\"mb-0\"},_vm._l((_vm.timetable.plan[day][hour].teachers),function(teacher){return _c('span',{key:teacher},[_vm._v(\"\\n                    \"+_vm._s(_vm.teachers[teacher].name)+\"\\n                  \")])}),0):_vm._e()]:_vm._e()],2):_vm._e()],1)])})],2)}),0)]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-05548bef\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Timetable.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-05548bef\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!postcss-loader?{\\\"sourceMap\\\":true}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Timetable.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Timetable.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Timetable.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-05548bef\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Timetable.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-05548bef\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Timetable.vue\n// module id = null\n// module chunks = ","import { cloneDeep } from 'lodash';\n\nimport lessonPlanning from './LessonPlanning';\n\nconst maxHours = 8;\nconst planPreset = () => [[], [], [], [], []];\n\nclass TimetableGenerator {\n  constructor(schoolId, preset) {\n    // use preset to force a specific set of data\n    if (preset) {\n      Object.keys(preset).forEach((key) => {\n        // if it contains a minus, its a generated id and should be copied without reference\n        this[key] = preset[key];\n      });\n      return;\n    }\n\n    this.blocked = { };\n    this.schoolId = schoolId;\n    this.school = lessonPlanning[schoolId];\n\n    const timetable = this.school.timetable || { };\n    // create plan arrays for classes\n    Object.keys(this.school.classes).forEach((key) => {\n      this[key] = timetable[key] || planPreset();\n    });\n\n    this.updateForConfig();\n  }\n\n  /**\n   * Creates a new instance of the object with same properties than original (but with new object\n   * references.\n   */\n  clone() {\n    return new TimetableGenerator(this.schoolId, JSON.parse(JSON.stringify(this)));\n  }\n\n  /**\n   * Transforms the classes and all lessons + teachers into a flat structure.\n   *\n   * @return     {Array}  The flat.\n   */\n  getFlat() {\n    const flat = [];\n    Object.keys(this.school.classes).forEach((classId) => {\n      const classDef = this.school.classes[classId];\n      const lessonKeys = Object.keys(classDef.lessons);\n\n      lessonKeys.forEach((lessonId) => {\n        const lesson = classDef.lessons[lessonId];\n        const planLesson = this.getPlanLesson(lessonId, classId);\n\n        /* eslint-disable no-plusplus */\n        while (flat.filter(entry => entry.id === planLesson.id).length < lesson.hours) {\n          flat.push({ ...planLesson });\n        }\n      });\n    });\n\n    return flat;\n  }\n\n  /**\n   * Create a new timetable for a school configuration.\n   */\n  update() {\n    this.updateForConfig();\n\n    // use a clone, until all changes were successfull\n    const clone = this.clone();\n    const flatted = clone.getFlat();\n    const beforeLength = flatted.length;\n\n    // reset previous plan one the clone but ignore locked entries\n    const classIds = Object.keys(this.school.classes);\n    for (let classIndex = 0; classIndex < classIds.length; classIndex += 1) {\n      const classId = classIds[classIndex];\n      for (let dayIndex = 0; dayIndex < 5; dayIndex += 1) {\n        for (let hourIndex = 0; hourIndex < maxHours; hourIndex += 1) {\n          const lesson = clone[classId][dayIndex][hourIndex];\n          if (lesson) {\n            // if lesson was not locked before, remove it\n            if (!lesson.locked) {\n              clone.revertLesson(lesson.id, { dayIndex, hourIndex });\n            } else {\n              let found = false;\n              // remove it from the flatted array\n              for (let i = 0; i < flatted.length; i += 1) {\n                if (flatted[i].id === lesson.id) {\n                  found = true;\n                  flatted.splice(i, 1);\n                  break;\n                }\n              }\n              if (!found) {\n                throw new Error('This lesson is not avaiable. Always locked!');\n              }\n            }\n          }\n        }\n      }\n    }\n\n    // iterate through all flatted entries and try to resolve them\n    while (flatted.length) {\n      console.log(`Inserting lesson to plan: ${flatted.length} / ${beforeLength}`);\n      const lessonShifts = clone.getLessonShifts(flatted[0]);\n\n      if (!lessonShifts) {\n        throw new Error('Could not resolve the timetable!');\n      }\n\n      lessonShifts.forEach(({ foundSlot, lesson }) => {\n        // assign the lesson to the time slot and remove it from the flatted array\n        clone.assignLesson(lesson, foundSlot);\n      });\n      // remove the first element, was already inserted\n      flatted.shift();\n    }\n\n    // if everything was valid, use it\n    Object.keys(this.school.classes).forEach((key) => {\n      this[key] = cloneDeep(clone[key]);\n    });\n\n    this.save();\n  }\n\n  /**\n   * Return a array of lesson and slots that should be shifted / reassigned.\n   *\n   * @param      {any}     lesson               lesson object\n   * @param      {Array}   [todos=[{foundSlot,  lesson}]  ]  The todos\n   * @param      {number}  [maxDeep=30]         maximum deep to dig into\n   * @return     {Array}   todos\n   */\n  getLessonShifts(lesson, todos = [], maxDeep = 30, deep = 0) {\n    let foundSlot = this.getFreeLessonSlot(lesson);\n\n    if (foundSlot) {\n      // if a slot was found, apply it and return it\n      todos.push({ foundSlot, lesson });\n      return todos;\n    }\n\n    // iterate through all classes and try to shift lessons\n    const classIds = Object.keys(this.school.classes);\n    // have a look at all classes that are referenced to this lesson\n    const refClasses = lesson.id.split('|||').map(id => this.getClassIdForLesson(id));\n\n    // iterate until the max deep is reached. For eacb while loop, the tries will be increased and\n    // the maxDeep that is passed into the recursive call is reduced by one. As a result of this,\n    // each while loop will dig on recursion deeper but will not directly go into full deep. It will\n    // first try to resolve the shifting with less shifts than possible.\n    let tries = deep === 0 ? 0 : maxDeep - 1;\n    while (tries < maxDeep && maxDeep !== 0) {\n      tries += 1;\n      const clone = this.clone();\n      for (let classIndex = 0; classIndex < classIds.length; classIndex += 1) {\n        const classId = classIds[classIndex];\n\n        for (let dayIndex = 0; dayIndex < 5; dayIndex += 1) {\n          for (let hourIndex = 0; hourIndex < maxHours; hourIndex += 1) {\n            // only try to use this block, if it wasnt blocked before by the recursion\n            if (!clone.isSlotBlocked(classId, { dayIndex, hourIndex })) {\n              // revert all lessons of all referenced classes at the specific time\n              const revertedLessons = [...new Set(\n                refClasses\n                  .map((refId) => clone[refId][dayIndex][hourIndex])\n                  .filter((revertedLesson) => !!revertedLesson),\n              )];\n              const isCurrIdIncluded = revertedLessons.filter(\n                (reverted) => reverted.id === lesson.id).length !== 0;\n              // if at least one lesson was found, we need to check if we can place the lesson here\n              if (revertedLessons.length > 0 && !isCurrIdIncluded) {\n                revertedLessons.forEach(revertedLesson => {\n                  clone.revertLesson(revertedLesson.id, { dayIndex, hourIndex });\n                });\n\n                // if we now found a free slot, assign the current lesson and try to resolve the\n                // reverted lessons\n                foundSlot = clone.getFreeLessonSlot(lesson);\n                if (foundSlot) {\n                  // assign the new lesson and block this slot for the clone\n                  clone.assignLesson(lesson, foundSlot);\n                  clone.setBlocked(lesson.id, { dayIndex, hourIndex });\n\n                  // search for a new slot for the reverted lessons\n                  const cloneShifts = [];\n                  for (let i = 0; i < revertedLessons.length; i += 1) {\n                    // allow gaps after deep 5\n                    const cloneShift = clone.getLessonShifts(\n                      revertedLessons[i],\n                      [],\n                      tries - 1,\n                      deep + 1,\n                    );\n\n                    if (cloneShift) {\n                      cloneShifts.push(cloneShift);\n                    } else {\n                      break;\n                    }\n                  }\n                  // only continue, if all other shifts could be assinged back\n                  if (cloneShifts.length === revertedLessons.length) {\n                    return [\n                      ...todos,\n                      { foundSlot, lesson },\n                    ].concat(...cloneShifts);\n                  }\n                } else {\n                  revertedLessons.forEach(revertedLesson => {\n                    clone.assignLesson(revertedLesson, { dayIndex, hourIndex });\n                  });\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Get a currently avaiable lesson slot. If not slot could be found, return null.\n   *\n   * @param      {any}  lesson  lesson to apply to the plan\n   */\n  getFreeLessonSlot(lesson, enableGaps = true) {\n    const { id, teachers } = lesson;\n    const ids = id.split('|||');\n    const affectedClasses = ids.map((affectedId) => this.getClassIdForLesson(affectedId));\n    // preload teacher plans for this lesson, to only calculate it once per getFreeLessonSlot\n    const teacherPlans = { };\n    teachers.forEach((teacherId) => {\n      teacherPlans[teacherId] = this.getTeacherPlan(teacherId);\n    });\n\n    // sort days by amount of gap hours and free hours\n    const dayOrder = [0, 1, 2, 3, 4].sort((dayA, dayB) => {\n      // check for gaps\n      const gapsA = affectedClasses\n        .map((classId) => this.getAmountOfGaps(classId, dayA))\n        .reduce((a, b) => a + b, 0);\n      const gapsB = affectedClasses\n        .map((classId) => this.getAmountOfGaps(classId, dayB))\n        .reduce((a, b) => a + b, 0);\n\n      // sort by most amount of gaps first\n      if (gapsA > gapsB) {\n        return -1;\n      } else if (gapsA < gapsB) {\n        return 1;\n      }\n\n      // if equal gaps, check amount of lessons at this day\n      const hoursA = affectedClasses\n        .map((classId) => this[classId][dayA].filter((entry) => !!entry).length)\n        .sort()[0];\n      const hoursB = affectedClasses\n        .map((classId) => this[classId][dayB].filter((entry) => !!entry).length)\n        .sort()[0];\n\n      // sort by amount of hours at these days (reverse sorting to gaps sorting)\n      if (hoursA < hoursB) {\n        return -1;\n      } else if (hoursA > hoursB) {\n        return 1;\n      }\n\n      // if everything is the same\n      return 0;\n    });\n\n    // iterate through all sorted days and hours (sortedDayIndex is only used for iterating days\n    // with the most less hours)\n    let sortedDayIndex = 0;\n    let dayIndex = dayOrder[sortedDayIndex];\n    let hourIndex = 0;\n\n    // search for available gaps\n    let found;\n    while (!found) {\n      let isValid = true;\n\n      // check all referenced classes for free slots\n      for (let idIndex = 0; idIndex < ids.length; idIndex += 1) {\n        const lessonId = ids[idIndex];\n        const classId = this.getClassIdForLesson(lessonId);\n        const classPlan = this[classId];\n\n        // get original day index, so the correct order will be used\n        const day = classPlan[dayIndex];\n\n        if (day.length >= maxHours) {\n          throw new Error('Toooo many hours');\n        }\n\n        // check gap validation only, if enableGaps is disabled\n        if (!enableGaps) {\n          const gaps = this.getGaps(classId, dayIndex);\n          if (gaps.indexOf(hourIndex) !== -1) {\n            isValid = false;\n            break;\n          }\n        }\n\n        // is their a gap in the class plan?\n        if (classPlan[dayIndex][hourIndex]\n          || this.isSlotBlocked(classId, { dayIndex, hourIndex })) {\n          isValid = false;\n          break;\n        } else {\n          // allow the same lesson only 2 times a day\n          const lessonCount = classPlan[dayIndex].filter((sub) => sub && sub.id === id)\n            .length;\n          if (lessonCount > 1) {\n            isValid = false;\n            break;\n          } else {\n            // check if teachers have times\n            /* eslint-disable no-loop-func */\n            teachers.forEach((teacherId) => {\n              const teacherConfig = this.school.teachers[teacherId];\n              const teacherPlan = teacherPlans[teacherId][dayIndex];\n\n              // check teacher config, if the teacher is not the house at this time\n              if (teacherConfig.days[dayIndex].indexOf(hourIndex + 1) === -1) {\n                isValid = false;\n              // check if teacher is already planned at this time\n              } else if (teacherPlan[hourIndex]) {\n                isValid = false;\n              }\n            });\n\n            if (!isValid) {\n              break;\n            }\n          }\n        }\n      }\n\n      if (isValid) {\n        // break loop if possible day was found\n        found = true;\n      } else {\n        // increase last day index, so the next day in week will be prooved\n        sortedDayIndex += 1;\n        if (sortedDayIndex === 5) {\n          if (hourIndex === maxHours) {\n            return null;\n          }\n\n          sortedDayIndex = 0;\n          hourIndex++;\n        }\n\n        // update day index\n        dayIndex = dayOrder[sortedDayIndex];\n      }\n    }\n\n    return { dayIndex, hourIndex };\n  }\n\n  /**\n   * Assign the lesson to a specific timeslot\n   *\n   * @param      {any}     planLesson      plan lesson object created with getPlanLesson\n   * @param      {Object}  arg2            lesson slot\n   * @param      {number}  arg2.dayIndex   day of the slot\n   * @param      {number}  arg2.hourIndex  hour at this day\n   */\n  assignLesson(planLesson, { dayIndex, hourIndex }) {\n    // lesson ids are joined with a seperator, so one lesson reference can be applied to multiple\n    // classes\n    const ids = planLesson.id.split('|||');\n    ids.forEach((id) => {\n      const classId = this.getClassIdForLesson(id);\n      this[classId][dayIndex][hourIndex] = { ...planLesson };\n    });\n  }\n\n  /**\n   * Generate the plan for a teacher from all classes.\n   *\n   * @param      {string}  teacherId  id of the teacher to generate the plan for\n   */\n  getTeacherPlan(teacherId) {\n    const plan = planPreset();\n\n    this.iteratePlans((classId, dayIndex, hourIndex) => {\n      const lesson = this[classId][dayIndex][hourIndex];\n      if (lesson && lesson.teachers.indexOf(teacherId) !== -1) {\n        plan[dayIndex][hourIndex] = lesson;\n      }\n    });\n\n    return plan;\n  }\n\n  /**\n   * Return a lesson object that can be inserted into a timetable plan.\n   *\n   * @param      {string}  classId   class id to check for lesson\n   * @param      {string}  lessonId  lesson id to check for\n   * @return     {Object}  The plan lesson.\n   */\n  getPlanLesson(lessonId, inputClassId) {\n    // find missing class\n    const classId = inputClassId || this.getClassIdForLesson(lessonId);\n    const classDef = this.school.classes[classId];\n    const lesson = classDef.lessons[lessonId];\n\n    // merge teachers and lessons of all references together\n    const teachers = [...lesson.teachers];\n    const lessons = [...lesson.lessons];\n    lesson.lessons.forEach((referencedId) => {\n      const linkedClassId = this.getClassIdForLesson(referencedId);\n      const linkedLesson = this.school.classes[linkedClassId].lessons[referencedId];\n      linkedLesson.teachers.forEach((ref) => {\n        if (teachers.indexOf(ref) === -1) {\n          teachers.push(ref);\n        }\n      });\n      linkedLesson.lessons.forEach((ref) => {\n        if (lessons.indexOf(ref) === -1) {\n          lessons.push(ref);\n        }\n      });\n    });\n\n    return {\n      classId,\n      id: [lessonId, ...lesson.lessons].sort().join('|||'),\n      instance: lesson,\n      lessonId,\n      lessons,\n      teachers,\n    };\n  }\n\n  /**\n   * Remove a lesson from a time slot.\n   *\n   * @param      {any}     lesson          lesson configuration\n   * @param      {Object}  arg2            lesson slot\n   * @param      {number}  arg2.dayIndex   day of the slot\n   * @param      {number}  arg2.hourIndex  hour at this day\n   */\n  revertLesson(lessonId, { dayIndex, hourIndex }) {\n    // lesson ids are joined with a seperator, so one lesson reference can be applied to multiple\n    // classes\n    const ids = lessonId.split('|||');\n    ids.forEach((id) => {\n      const classId = this.getClassIdForLesson(id);\n      this[classId][dayIndex][hourIndex] = null;\n    });\n  }\n\n  /**\n   * Create a new object without class reference to save it within the lesson as json export.\n   */\n  serialize() {\n    const clone = { };\n    Object.keys(this.school.classes).forEach((key) => {\n      clone[key] = cloneDeep(this[key]);\n    });\n    return clone;\n  }\n\n  /**\n   * Save the current configuration to the school.\n   */\n  save() {\n    lessonPlanning.setTimetable(this.schoolId, this.serialize());\n  }\n\n  /**\n   * Block a specific day / hour index for a class, sot getFreeSlot will skip it.\n   *\n   * @param      {string}  lessonId    class id to block\n   * @param      {number}  dayIndex   day index to block\n   * @param      {number}  hourIndex  hour index to block\n   */\n  setBlocked(lessonId, { dayIndex, hourIndex }) {\n    const ids = lessonId.split('|||');\n    ids.forEach((id) => {\n      const classId = this.getClassIdForLesson(id);\n      this.blocked[`${classId}-${dayIndex}-${hourIndex}`] = true;\n    });\n  }\n\n  /**\n   * Check if a specific hour is blocked.\n   *\n   * @param      {string}   classId    class id to check\n   * @param      {number}   dayIndex   day index to check\n   * @param      {number}   hourIndex  hour index to check\n   * @return     {boolean}  True if slot blocked, False otherwise\n   */\n  isSlotBlocked(classId, { dayIndex, hourIndex }) {\n    return (this[classId][dayIndex][hourIndex] && this[classId][dayIndex][hourIndex].locked)\n      || this.blocked[`${classId}-${dayIndex}-${hourIndex}`];\n  }\n\n  /**\n   * Update all lessons, classes and texts to latest configuration.\n   */\n  updateForConfig() {\n    this.iteratePlans((classId, dayIndex, hourIndex) => {\n      const lesson = this[classId][dayIndex][hourIndex];\n      if (lesson) {\n        // apply latest texts and specifications from user configuration\n        this[classId][dayIndex][hourIndex] = this.getPlanLesson(lesson.lessonId, lesson.classId);\n      }\n    });\n  }\n\n  /**\n   * Iterate over the plan of all classes (or a specific one) and runs a callback function. If false\n   * is returned, the loop will be stopped.\n   *\n   * @param      {Function}  callback  function that should be called (classId, dayIndex, hourIndex)\n   * @param      {string}    classId   iterate only for a specific class id\n   * @return     {any}       callback result or null\n   */\n  iteratePlans(callback, classId) {\n    const classIds = Object.keys(this.school.classes);\n\n    for (let i = 0; i < classIds.length; i += 1) {\n      if (!classId || (classId && classId === classIds[i])) {\n        // apply latest texts and specifications from user configuration\n        for (let dayIndex = 0; dayIndex < 5; dayIndex += 1) {\n          for (let hourIndex = 0; hourIndex < maxHours; hourIndex += 1) {\n            const result = callback(classIds[i], dayIndex, hourIndex);\n            if (result) {\n              return result;\n            }\n          }\n        }\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Lock a specific lesson at a specific time.\n   *\n   * @param      {string}  lessonId   lesson id\n   * @param      {number}  dayIndex   day to lock\n   * @param      {number}  hourIndex  hour to lock\n   */\n  lockLesson(lessonId, { dayIndex, hourIndex }) {\n    const ids = lessonId.split('|||');\n    ids.forEach((id) => {\n      const classId = this.getClassIdForLesson(id);\n      const lesson = this.getPlanLesson(id, classId);\n      this[classId][dayIndex][hourIndex] = lesson;\n      this[classId][dayIndex][hourIndex].locked = true;\n    });\n  }\n\n  /**\n   * Find the class id for a specific lesson id.\n   *\n   * @param      {string}  lessondId  lesson id to get the class id for\n   * @return     {string}  class id\n   */\n  getClassIdForLesson(lessondId) {\n    const classIds = Object.keys(this.school.classes);\n\n    for (let i = 0; i < classIds.length; i += 1) {\n      if (this.school.classes[classIds[i]].lessons[lessondId]) {\n        return classIds[i];\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Return an array of gap indexes of a day.\n   *\n   * @param      {string}  classId   class id to check\n   * @param      {number}  dayIndex  day to check\n   * @return     {number}  list of gaps\n   */\n  getGaps(classId, dayIndex) {\n    const plan = this[classId][dayIndex];\n    const gaps = [];\n    let lastFound = false;\n\n    for (let i = maxHours - 1; i > -1; i--) {\n      if (plan[i] && !lastFound) {\n        lastFound = true;\n      }\n\n      if (lastFound && !plan[i]) {\n        gaps.push(i);\n      }\n    }\n\n    return gaps;\n  }\n\n  /**\n   * Return the amount of lesson gaps a class has on a specific day.\n   *\n   * @param      {string}  classId   class id to check\n   * @param      {number}  dayIndex  day to check\n   * @return     {number}  amount of gaps\n   */\n  getAmountOfGaps(classId, dayIndex) {\n    return this.getGaps(classId, dayIndex).lengths;\n  }\n}\n\nexport default TimetableGenerator;\n\n\n\n// WEBPACK FOOTER //\n// ./src/TimetableGenerator.js","<template>\n  <div\n    class=\"timetable-overview\"\n    :class=\"{\n      'active': active\n    }\">\n    <div\n      class=\"toggle\"\n      @click=\"toggle()\">\n      <i\n        :title=\"$t(`_lp.timetable.create`)\"\n        class=\"mdi mdi-timetable h4 ml-3 d-flex text-white align-items-center mb-0 h-100\"\n        v-b-tooltip.hover\n      />\n    </div>\n\n    <b-modal id=\"error-modal\">\n      <template v-slot:modal-title>\n        {{ '_lp.timetable.error.title' | translate }}\n      </template>\n      <div class=\"d-block text-center\">\n        {{ '_lp.timetable.error.invalid' | translate }}\n      </div>\n    </b-modal>\n\n    <b-modal id=\"manual-error-modal\">\n      <template v-slot:modal-title>\n        {{ '_lp.timetable.error.title' | translate }}\n      </template>\n      <div class=\"d-block text-center\">\n        {{ '_lp.timetable.error.manual' | translate }}\n      </div>\n    </b-modal>\n\n    <b-overlay\n      class=\"d-flex flex-column\"\n      style=\"max-height: 100%;\"\n      :show=\"generating\">\n      <div class=\"py-1 px-5 d-flex border-bottom\">\n        <div\n          :class=\"{ 'bg-primary text-light': activeView === 0}\"\n          @click=\"activeView = 0\"\n          class=\"p-3\">\n          {{ '_lp.class.multiple' | translate }}\n        </div>\n        <div\n          :class=\"{ 'bg-primary text-light': activeView === 1}\"\n          @click=\"activeView = 1\"\n          class=\"p-3\">\n          {{ '_lp.teachers.multiple' | translate }}\n        </div>\n\n        <span class=\"mx-auto\" />\n\n        <b-button\n          @click=\"reset()\"\n          class=\"mt-3\"\n          v-if=\"plans\"\n          variant=\"danger\">\n          {{ '_lp.timetable.reset' | translate }}\n        </b-button>\n      </div>\n\n      <div class=\"overflow-auto\" style=\"min-height: 100%\" v-if=\"plans\">\n        <template v-if=\"!reloading\">\n          <lp-timetable\n            :key=\"`${activeView}-${index}`\"\n            :timetable=\"plan\"\n            :type=\"activeView === 0 ? 'class' : 'teacher'\"\n            v-for=\"(plan, index) in plans[activeView === 0 ? 'classes' : 'teachers']\"\n            @update=\"generateNewPlan($event)\"\n          />\n        </template>\n      </div>\n      <div class=\"text-center p-5\" v-else>\n        <h4>{{ '_lp.timetable.missing' | translate }}</h4>\n\n        <b-button\n          class=\"mt-3\"\n          variant=\"primary\"\n          @click=\"generateNewPlan()\">\n          {{ '_lp.timetable.create' | translate }}\n        </b-button>\n      </div>\n    </b-overlay>\n  </div>\n</template>\n\n<script>\nimport lessonPlanning from '../LessonPlanning';\nimport Timetable from './Timetable';\nimport TimetableGenerator from '../TimetableGenerator';\n\nexport default {\n  name: 'TimetableOverview',\n  components: {\n    'lp-timetable': Timetable,\n  },\n  data() {\n    return {\n      active: false,\n      activeView: 0,\n      generating: false,\n      plans: null,\n      reloading: false,\n      tg: null,\n    };\n  },\n  methods: {\n    /**\n     * Toggle the timetable panel and genewrate new plans, when active state is true.\n     */\n    toggle() {\n      this.active = !this.active;\n      if (this.active) {\n        this.tg = new TimetableGenerator(this.$route.params.id);\n        // if a timetable was generated before, show it directly\n        if (lessonPlanning[this.$route.params.id].timetable) {\n          this.setPlans();\n        }\n      }\n    },\n    /**\n     * Reset current configuration and create a new timetable\n     */\n    reset() {\n      delete lessonPlanning[this.$route.params.id].timetable;\n      this.tg = new TimetableGenerator(this.$route.params.id);\n      this.generateNewPlan();\n    },\n    /**\n     * Generate a new plan, with the current configuration\n     */\n    async generateNewPlan($event) {\n      let skipUpdate = false;\n\n      // get new timetabl\n      try {\n        if ($event) {\n          const { lessonId, previousLesson, dayIndex, hourIndex } = $event;\n\n          // if a lesson was locked, assign it\n          if (lessonId) {\n            if (previousLesson === lessonId) {\n              skipUpdate = true;\n            }\n\n            // update original timetable with new lesson\n            this.tg.lockLesson(lessonId, { dayIndex, hourIndex });\n          } else {\n            this.tg.revertLesson(previousLesson, { dayIndex, hourIndex });\n          }\n        }\n        // do not update timetable, when the same lesson is selected as before\n        if (!skipUpdate) {\n          // ensure to show loading screen\n          this.generating = true;\n          await new Promise((resolve) => setTimeout(resolve, 100));\n          this.tg.update();\n          this.setPlans();\n        }\n      } catch (ex) {\n        console.error(ex.message);\n\n        // show message\n        if ($event) {\n          const { previousLesson, dayIndex, hourIndex } = $event;\n          // revert previous configuration\n          this.tg.assignLesson(previousLesson, { dayIndex, hourIndex });\n          this.tg.update();\n          this.setPlans();\n\n          this.$bvModal.show('manual-error-modal');\n        } else {\n          this.$bvModal.show('error-modal');\n        }\n      }\n\n      // hide overlay and force update of tables\n      this.reloading = true;\n      await new Promise((resolve) => setTimeout(resolve, 0));\n      this.reloading = false;\n      this.generating = false;\n    },\n    /**\n     * Update the display arrays\n     */\n    setPlans() {\n      const school = this.tg.school;\n      // map the plans to arrays, so they can be better displayed\n      this.plans = {\n        classes: [],\n        teachers: [],\n      };\n      Object.keys(school.classes).forEach((classId) => {\n        this.plans.classes.push({\n          classId,\n          name: school.classes[classId].name,\n          plan: this.tg[classId],\n        });\n      });\n\n      Object.keys(school.teachers).forEach((teacherId) => {\n        this.plans.teachers.push({\n          teacherId,\n          name: school.teachers[teacherId].name,\n          plan: this.tg.getTeacherPlan(teacherId),\n        });\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n  .timetable-overview {\n    position: fixed;\n    width: calc(100% - 16.66667%);\n    z-index: 10;\n    left: 100%;\n    top: 66px;\n    height: calc(100% - 66px);\n    background-color: white;\n    box-shadow: -2px 0 9px 0 grey;\n\n    .toggle {\n      position: absolute;\n      height: 50px;\n      width: 50px;\n      background-color: #880e4f;\n      top: 20px;\n      left: -30px;\n    }\n\n    .toggle:hover {\n      left: -50px;\n    }\n\n    // active state\n    &.active {\n      left: 16.66667%;\n\n      .toggle {\n        left: -30px;\n      }\n    }\n\n    // bind animations\n    &, .toggle {\n      transition: 0.3s left ease-out;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/TimetableOverview.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"timetable-overview\",class:{\n    'active': _vm.active\n  }},[_c('div',{staticClass:\"toggle\",on:{\"click\":function($event){return _vm.toggle()}}},[_c('i',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"mdi mdi-timetable h4 ml-3 d-flex text-white align-items-center mb-0 h-100\",attrs:{\"title\":_vm.$t(\"_lp.timetable.create\")}})]),_vm._v(\" \"),_c('b-modal',{attrs:{\"id\":\"error-modal\"},scopedSlots:_vm._u([{key:\"modal-title\",fn:function(){return [_vm._v(\"\\n      \"+_vm._s(_vm._f(\"translate\")('_lp.timetable.error.title'))+\"\\n    \")]},proxy:true}])},[_vm._v(\" \"),_c('div',{staticClass:\"d-block text-center\"},[_vm._v(\"\\n      \"+_vm._s(_vm._f(\"translate\")('_lp.timetable.error.invalid'))+\"\\n    \")])]),_vm._v(\" \"),_c('b-modal',{attrs:{\"id\":\"manual-error-modal\"},scopedSlots:_vm._u([{key:\"modal-title\",fn:function(){return [_vm._v(\"\\n      \"+_vm._s(_vm._f(\"translate\")('_lp.timetable.error.title'))+\"\\n    \")]},proxy:true}])},[_vm._v(\" \"),_c('div',{staticClass:\"d-block text-center\"},[_vm._v(\"\\n      \"+_vm._s(_vm._f(\"translate\")('_lp.timetable.error.manual'))+\"\\n    \")])]),_vm._v(\" \"),_c('b-overlay',{staticClass:\"d-flex flex-column\",staticStyle:{\"max-height\":\"100%\"},attrs:{\"show\":_vm.generating}},[_c('div',{staticClass:\"py-1 px-5 d-flex border-bottom\"},[_c('div',{staticClass:\"p-3\",class:{ 'bg-primary text-light': _vm.activeView === 0},on:{\"click\":function($event){_vm.activeView = 0}}},[_vm._v(\"\\n        \"+_vm._s(_vm._f(\"translate\")('_lp.class.multiple'))+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"p-3\",class:{ 'bg-primary text-light': _vm.activeView === 1},on:{\"click\":function($event){_vm.activeView = 1}}},[_vm._v(\"\\n        \"+_vm._s(_vm._f(\"translate\")('_lp.teachers.multiple'))+\"\\n      \")]),_vm._v(\" \"),_c('span',{staticClass:\"mx-auto\"}),_vm._v(\" \"),(_vm.plans)?_c('b-button',{staticClass:\"mt-3\",attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.reset()}}},[_vm._v(\"\\n        \"+_vm._s(_vm._f(\"translate\")('_lp.timetable.reset'))+\"\\n      \")]):_vm._e()],1),_vm._v(\" \"),(_vm.plans)?_c('div',{staticClass:\"overflow-auto\",staticStyle:{\"min-height\":\"100%\"}},[(!_vm.reloading)?_vm._l((_vm.plans[_vm.activeView === 0 ? 'classes' : 'teachers']),function(plan,index){return _c('lp-timetable',{key:(_vm.activeView + \"-\" + index),attrs:{\"timetable\":plan,\"type\":_vm.activeView === 0 ? 'class' : 'teacher'},on:{\"update\":function($event){return _vm.generateNewPlan($event)}}})}):_vm._e()],2):_c('div',{staticClass:\"text-center p-5\"},[_c('h4',[_vm._v(_vm._s(_vm._f(\"translate\")('_lp.timetable.missing')))]),_vm._v(\" \"),_c('b-button',{staticClass:\"mt-3\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.generateNewPlan()}}},[_vm._v(\"\\n        \"+_vm._s(_vm._f(\"translate\")('_lp.timetable.create'))+\"\\n      \")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5ff92744\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TimetableOverview.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5ff92744\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!postcss-loader?{\\\"sourceMap\\\":true}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TimetableOverview.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TimetableOverview.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TimetableOverview.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5ff92744\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./TimetableOverview.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5ff92744\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TimetableOverview.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"h-100 d-flex flex-column\">\n    <lp-header>\n      <b-navbar-nav class=\"ml-auto d-flex\">\n        <b-form-input\n          style=\"max-width: 200px;\"\n          v-model=\"school.name\"\n          :placeholder=\"$t('_lp.school.name')\"\n        />\n        <div>\n          <i\n            :title=\"$t(`_lp.teachers.title`)\"\n            @click=\"$refs.teacherModal.show()\"\n            class=\"mdi mdi-account-multiple h4 ml-3 d-flex text-white align-items-center mb-0 h-100\"\n            v-b-tooltip.hover\n          />\n        </div>\n        <div>\n          <i\n            :title=\"$t(`_lp.school.export`)\"\n            @click=\"exportSchool()\"\n            class=\"mdi mdi-download h4 ml-3 d-flex text-white align-items-center mb-0 h-100\"\n            v-b-tooltip.hover\n          />\n        </div>\n        <lp-delete\n          :id=\"this.$route.params.id\"\n          @on-delete=\"$router.push('/')\"\n          color=\"white\"\n        />\n      </b-navbar-nav>\n    </lp-header>\n\n    <div class=\"row\" style=\"height: calc(100% - 66px)\">\n      <b-nav vertical\n        class=\"col-lg-2 col-md-3 border-right pr-0 overflow-auto flex-nowrap bg-light\"\n        style=\"max-height: 100%\">\n        <b-nav-item\n          :key=\"classId\"\n          :style=\"`border-right: ${$route.params.classId === classId ? '5px solid #dcd1d8' : '0'}`\"\n          :to=\"`/school/${ $route.params.id }/${ classId }`\"\n          class=\"border-bottom px-3 py-2\"\n          v-for=\"classId in classes\">\n          {{ school.classes[classId].name }}\n        </b-nav-item>\n        <b-nav-item class=\"border-bottom px-3 py-2\"\n          @click=\"addClass()\">\n          <i class=\"mdi mdi-plus\"></i>\n          {{ '_lp.class.add' | translate }}\n        </b-nav-item>\n      </b-nav>\n      <div class=\"col-lg-10 col-md-9 overflow-auto\"\n        style=\"max-height: 100%\">\n        <div class=\"p-4 h-100\">\n          <router-view v-if=\"$route.params.classId\" />\n          <div class=\"text-center p-5\" v-else>\n            <h5>\n              {{ '_lp.class.empty' | translate }}\n            </h5>\n\n            <b-button\n              class=\"mt-3\"\n              variant=\"primary\"\n              @click=\"addClass()\">\n              {{ '_lp.class.add' | translate }}\n            </b-button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <lp-teachers ref=\"teacherModal\" />\n    <lp-timetable-overview />\n  </div>\n</template>\n\n<script>\nimport Delete from './Delete';\nimport Header from './Header';\nimport Teachers from './Teachers';\nimport TimetableOverview from './TimetableOverview';\nimport lessonPlanning from '../LessonPlanning';\n\nexport default {\n  name: 'Schools',\n  components: {\n    'lp-delete': Delete,\n    'lp-header': Header,\n    'lp-teachers': Teachers,\n    'lp-timetable-overview': TimetableOverview,\n  },\n  data() {\n    const school = lessonPlanning[this.$route.params.id];\n\n    return {\n      classes: Object.keys(school.classes),\n      school,\n    };\n  },\n  methods: {\n    addClass() {\n      const id = lessonPlanning.addClass(this.$route.params.id);\n      this.classes.push(id);\n      this.$router.push(`/school/${this.$route.params.id}/${id}`);\n    },\n    exportSchool() {\n      const dataStr = `data:text/json;charset=utf-8, ${encodeURIComponent(\n        JSON.stringify(this.school))}`;\n      const downloadAnchorNode = document.createElement('a');\n      downloadAnchorNode.setAttribute('href', dataStr);\n      downloadAnchorNode.setAttribute('download', `${this.school.name}.json`);\n      document.body.appendChild(downloadAnchorNode); // required for firefox\n      downloadAnchorNode.click();\n      downloadAnchorNode.remove();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/School.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"h-100 d-flex flex-column\"},[_c('lp-header',[_c('b-navbar-nav',{staticClass:\"ml-auto d-flex\"},[_c('b-form-input',{staticStyle:{\"max-width\":\"200px\"},attrs:{\"placeholder\":_vm.$t('_lp.school.name')},model:{value:(_vm.school.name),callback:function ($$v) {_vm.$set(_vm.school, \"name\", $$v)},expression:\"school.name\"}}),_vm._v(\" \"),_c('div',[_c('i',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"mdi mdi-account-multiple h4 ml-3 d-flex text-white align-items-center mb-0 h-100\",attrs:{\"title\":_vm.$t(\"_lp.teachers.title\")},on:{\"click\":function($event){return _vm.$refs.teacherModal.show()}}})]),_vm._v(\" \"),_c('div',[_c('i',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"mdi mdi-download h4 ml-3 d-flex text-white align-items-center mb-0 h-100\",attrs:{\"title\":_vm.$t(\"_lp.school.export\")},on:{\"click\":function($event){return _vm.exportSchool()}}})]),_vm._v(\" \"),_c('lp-delete',{attrs:{\"id\":this.$route.params.id,\"color\":\"white\"},on:{\"on-delete\":function($event){return _vm.$router.push('/')}}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"row\",staticStyle:{\"height\":\"calc(100% - 66px)\"}},[_c('b-nav',{staticClass:\"col-lg-2 col-md-3 border-right pr-0 overflow-auto flex-nowrap bg-light\",staticStyle:{\"max-height\":\"100%\"},attrs:{\"vertical\":\"\"}},[_vm._l((_vm.classes),function(classId){return _c('b-nav-item',{key:classId,staticClass:\"border-bottom px-3 py-2\",style:((\"border-right: \" + (_vm.$route.params.classId === classId ? '5px solid #dcd1d8' : '0'))),attrs:{\"to\":(\"/school/\" + (_vm.$route.params.id) + \"/\" + classId)}},[_vm._v(\"\\n        \"+_vm._s(_vm.school.classes[classId].name)+\"\\n      \")])}),_vm._v(\" \"),_c('b-nav-item',{staticClass:\"border-bottom px-3 py-2\",on:{\"click\":function($event){return _vm.addClass()}}},[_c('i',{staticClass:\"mdi mdi-plus\"}),_vm._v(\"\\n        \"+_vm._s(_vm._f(\"translate\")('_lp.class.add'))+\"\\n      \")])],2),_vm._v(\" \"),_c('div',{staticClass:\"col-lg-10 col-md-9 overflow-auto\",staticStyle:{\"max-height\":\"100%\"}},[_c('div',{staticClass:\"p-4 h-100\"},[(_vm.$route.params.classId)?_c('router-view'):_c('div',{staticClass:\"text-center p-5\"},[_c('h5',[_vm._v(\"\\n            \"+_vm._s(_vm._f(\"translate\")('_lp.class.empty'))+\"\\n          \")]),_vm._v(\" \"),_c('b-button',{staticClass:\"mt-3\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.addClass()}}},[_vm._v(\"\\n            \"+_vm._s(_vm._f(\"translate\")('_lp.class.add'))+\"\\n          \")])],1)],1)])],1),_vm._v(\" \"),_c('lp-teachers',{ref:\"teacherModal\"}),_vm._v(\" \"),_c('lp-timetable-overview')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-13b2a576\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/School.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-13b2a576\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!postcss-loader?{\\\"sourceMap\\\":true}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./School.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./School.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./School.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-13b2a576\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./School.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-13b2a576\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/School.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <lp-header>\n      <b-navbar-nav class=\"ml-auto d-flex\">\n        <div>\n          <i\n            :title=\"$t(`_lp.school.add`)\"\n            @click=\"lessonPlanning.addSchool()\"\n            class=\"mdi mdi-plus-circle h4 ml-3 d-flex text-white align-items-center mb-0 h-100\"\n            v-b-tooltip.hover\n          />\n        </div>\n        <div>\n          <i\n            :title=\"$t(`_lp.school.import`)\"\n            @click=\"$refs.importModal.show()\"\n            class=\"mdi mdi-upload h4 ml-3 d-flex text-white align-items-center mb-0 h-100\"\n            v-b-tooltip.hover\n          />\n        </div>\n      </b-navbar-nav>\n    </lp-header>\n\n    <b-modal\n      :title=\"$t('_lp.school.import')\"\n      hide-footer\n      ref=\"importModal\">\n\n      <div class=\"custom-file\">\n        <input\n          accept=\".json\"\n          class=\"custom-file-input\"\n          id=\"schoolImport\"\n          ref=\"schoolImport\"\n          type=\"file\"\n          v-on:change=\"importSchool()\">\n          <p class=\"text-danger\" v-if=\"importError\">\n            {{ '_lp.school.invalid-import' | translate }}\n          </p>\n        <label class=\"custom-file-label\" for=\"schoolImport\">\n          {{ '_lp.school.import-file' | translate }}\n        </label>\n      </div>\n\n      <div class=\"text-right\">\n        <b-button\n          class=\"mt-3\"\n          @click=\"$refs.importModal.hide();\">\n          {{ '_lp.close' | translate }}\n        </b-button>\n      </div>\n    </b-modal>\n\n    <div class=\"container\">\n      <div class=\"row\">\n        <router-link\n          :event=\"!lessonPlanning[key].error ? 'click' : ''\"\n          :key=\"key\"\n          :to=\"`school/${ key }`\"\n          class=\"col-md-3 p-3\"\n          v-for=\"key in schools\">\n          <b-card\n            style=\"height: 80px\"\n            :class=\"{\n              'bg-danger text-white': lessonPlanning[key].error,\n            }\">\n            <b-card-title class=\"mb-0 d-flex align-items-center\" style=\"height: 100%\">\n              <h4 class=\"mb-0\">{{ lessonPlanning[key].name }}</h4>\n            </b-card-title>\n          </b-card>\n        </router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Header from './Header';\nimport lessonPlanning from '../LessonPlanning';\n\nexport default {\n  name: 'Schools',\n  components: {\n    'lp-header': Header,\n  },\n  data() {\n    return {\n      importError: false,\n      lessonPlanning,\n      schools: lessonPlanning.schools,\n    };\n  },\n  methods: {\n    importSchool() {\n      const reader = new FileReader();\n      reader.onload = (event) => {\n        try {\n          const id = lessonPlanning.addSchool(JSON.parse(event.target.result));\n          this.importError = false;\n          this.$refs.importModal.hide();\n          this.$router.push(`/school/${id}`);\n        } catch (ex) {\n          console.error(ex.message);\n          this.importError = true;\n        }\n      };\n      reader.readAsText(this.$refs.schoolImport.files[0]);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Schools.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('lp-header',[_c('b-navbar-nav',{staticClass:\"ml-auto d-flex\"},[_c('div',[_c('i',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"mdi mdi-plus-circle h4 ml-3 d-flex text-white align-items-center mb-0 h-100\",attrs:{\"title\":_vm.$t(\"_lp.school.add\")},on:{\"click\":function($event){return _vm.lessonPlanning.addSchool()}}})]),_vm._v(\" \"),_c('div',[_c('i',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"mdi mdi-upload h4 ml-3 d-flex text-white align-items-center mb-0 h-100\",attrs:{\"title\":_vm.$t(\"_lp.school.import\")},on:{\"click\":function($event){return _vm.$refs.importModal.show()}}})])])],1),_vm._v(\" \"),_c('b-modal',{ref:\"importModal\",attrs:{\"title\":_vm.$t('_lp.school.import'),\"hide-footer\":\"\"}},[_c('div',{staticClass:\"custom-file\"},[_c('input',{ref:\"schoolImport\",staticClass:\"custom-file-input\",attrs:{\"accept\":\".json\",\"id\":\"schoolImport\",\"type\":\"file\"},on:{\"change\":function($event){return _vm.importSchool()}}}),_vm._v(\" \"),(_vm.importError)?_c('p',{staticClass:\"text-danger\"},[_vm._v(\"\\n          \"+_vm._s(_vm._f(\"translate\")('_lp.school.invalid-import'))+\"\\n        \")]):_vm._e(),_vm._v(\" \"),_c('label',{staticClass:\"custom-file-label\",attrs:{\"for\":\"schoolImport\"}},[_vm._v(\"\\n        \"+_vm._s(_vm._f(\"translate\")('_lp.school.import-file'))+\"\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"text-right\"},[_c('b-button',{staticClass:\"mt-3\",on:{\"click\":function($event){return _vm.$refs.importModal.hide();}}},[_vm._v(\"\\n        \"+_vm._s(_vm._f(\"translate\")('_lp.close'))+\"\\n      \")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},_vm._l((_vm.schools),function(key){return _c('router-link',{key:key,staticClass:\"col-md-3 p-3\",attrs:{\"event\":!_vm.lessonPlanning[key].error ? 'click' : '',\"to\":(\"school/\" + key)}},[_c('b-card',{class:{\n            'bg-danger text-white': _vm.lessonPlanning[key].error,\n          },staticStyle:{\"height\":\"80px\"}},[_c('b-card-title',{staticClass:\"mb-0 d-flex align-items-center\",staticStyle:{\"height\":\"100%\"}},[_c('h4',{staticClass:\"mb-0\"},[_vm._v(_vm._s(_vm.lessonPlanning[key].name))])])],1)],1)}),1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d41d139c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Schools.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d41d139c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!postcss-loader?{\\\"sourceMap\\\":true}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Schools.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Schools.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Schools.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d41d139c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Schools.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d41d139c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Schools.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"bg-light h-100 border shadow d-flex flex-column\">\n    <div class=\"d-flex align-items-center pt-4 px-4\">\n      <h4 class=\"mb-0\">{{ '_lp.class.config' | translate }}</h4>\n\n      <div class=\"ml-auto d-flex\">\n        <b-form-input\n          style=\"max-width: 200px;\"\n          v-model=\"classObj.name\"\n          :placeholder=\"$t('_lp.class.name')\"\n        />\n        <div>\n          <i\n            :title=\"$t(`_lp.class.duplicate`)\"\n            @click=\"duplicate()\"\n            class=\"mdi mdi-content-copy h4 ml-3 d-flex text-dark align-items-center mb-0 h-100\"\n            v-b-tooltip.hover\n          />\n        </div>\n        <lp-delete\n          :id=\"this.$route.params.classId\"\n          @on-delete=\"$router.push(`/school/${$route.params.id}`)\"\n          color=\"dark\"\n        />\n      </div>\n    </div>\n    <div class=\"overflow-auto\">\n      <div class=\"text-center p-5\" v-if=\"lessons.length === 0\">\n        <h5>\n          {{ '_lp.lesson.empty' | translate }}\n        </h5>\n\n        <b-button\n          class=\"mt-3\"\n          variant=\"primary\"\n          @click=\"addLesson()\">\n          {{ '_lp.lesson.add' | translate }}\n        </b-button>\n      </div>\n      <div class=\"p-4\" v-else>\n        <table class=\"table border\">\n          <thead>\n            <tr>\n              <th class=\"bg-white\" scope=\"col\">{{ '_lp.lesson.title' | translate }}</th>\n              <th class=\"bg-white\" scope=\"col\">\n                {{ '_lp.lesson.hours' | translate }}\n                ({{getAmountOfHours()}})\n              </th>\n              <th class=\"bg-white\" scope=\"col\">{{ '_lp.lesson.teachers' | translate }}</th>\n              <th class=\"bg-white\" scope=\"col\">{{ '_lp.lesson.lesson-ref' | translate }}</th>\n              <th class=\"bg-white\" scope=\"col\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              v-for=\"(lesson, index) in lessons\"\n              :key=\"lesson\">\n              <th>\n                <b-form-input\n                  :placeholder=\"$t('_lp.class.name')\"\n                  style=\"max-width: 300px\"\n                  v-model=\"classObj.lessons[lesson].name\"\n                />\n              </th>\n              <td>\n                <b-form-input\n                  style=\"width: 80px\"\n                  v-model=\"classObj.lessons[lesson].hours\"\n                  :placeholder=\"$t('_lp.class.name')\"\n                />\n              </td>\n              <td>\n                <v-select\n                  style=\"max-width: 300px\"\n                  :options=\"teacherOptions()\"\n                  multiple\n                  v-model=\"classObj.lessons[lesson].teachers\"\n                  :reduce=\"teacher => teacher.key\"\n                  @change=\"$set(\n                    classObj.lessons[lesson],\n                    'teachers',\n                    classObj.lessons[lesson].teachers\n                  )\">\n                </v-select>\n              </td>\n              <td>\n                <v-select\n                  style=\"max-width: 300px\"\n                  :options=\"classReferenceOptions()\"\n                  multiple\n                  v-model=\"classObj.lessons[lesson].lessons\"\n                  :reduce=\"lesson => lesson.key\"\n                  @change=\"$set(\n                    classObj.lessons[lesson],\n                    'lessons',\n                    classObj.lessons[lesson].lessons\n                  )\">\n                </v-select>\n              </td>\n              <td>\n                <lp-delete\n                  :id=\"lesson\"\n                  @on-delete=\"lessons.splice(index, 1)\"\n                  color=\"dark\"\n                />\n              </td>\n            </tr>\n            <tr>\n              <td class=\"bg-white text-right\">\n                <b-button\n                  variant=\"primary\"\n                  @click=\"addLesson()\">\n                  {{ '_lp.lesson.add' | translate }}\n                </b-button>\n              </td>\n              <td class=\"bg-white\" />\n              <td class=\"bg-white\" />\n              <td class=\"bg-white\" />\n              <td class=\"bg-white\" />\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Delete from './Delete';\nimport Header from './Header';\nimport lessonPlanning from '../LessonPlanning';\n\nexport default {\n  name: 'Schools',\n  components: {\n    'lp-delete': Delete,\n    'lp-header': Header,\n  },\n  data() {\n    const classObj = lessonPlanning[this.$route.params.id].classes[this.$route.params.classId];\n    return {\n      classObj,\n      lessonPlanning,\n      lessons: Object.keys(classObj.lessons),\n      school: lessonPlanning[this.$route.params.id],\n    };\n  },\n  methods: {\n    addLesson() {\n      const id = lessonPlanning.addLesson(this.$route.params.id, this.$route.params.classId);\n      this.lessons.push(id);\n    },\n    duplicate() {\n      const classId = lessonPlanning.duplicate(this.$route.params.id, this.$route.params.classId);\n      this.$router.push(`/school/${this.$route.params.id}/${classId}`);\n    },\n    teacherOptions() {\n      const school = lessonPlanning[this.$route.params.id];\n      const teachers = school.teachers;\n      return Object\n        .keys(teachers)\n        .map(teacherKey => ({\n          label: school.teachers[teacherKey].name,\n          key: teacherKey,\n        }));\n    },\n    classReferenceOptions() {\n      const school = lessonPlanning[this.$route.params.id];\n      const classes = school.classes;\n      const options = [];\n\n      Object\n        .keys(classes)\n        .forEach(classKey => Object.keys(classes[classKey].lessons).forEach(lessonKey =>\n          options.push({\n            label: `${classes[classKey].name} - ${classes[classKey].lessons[lessonKey].name}`,\n            key: lessonKey,\n          }),\n        ));\n\n      return options;\n    },\n    getAmountOfHours() {\n      const { lessons } = lessonPlanning[this.$route.params.id].classes[this.$route.params.classId];\n      let hours = 0;\n\n      Object.keys(lessons).forEach((lessonKey) => {\n        hours += parseInt(lessons[lessonKey].hours, 10);\n      });\n\n      return hours;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/SchoolClass.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bg-light h-100 border shadow d-flex flex-column\"},[_c('div',{staticClass:\"d-flex align-items-center pt-4 px-4\"},[_c('h4',{staticClass:\"mb-0\"},[_vm._v(_vm._s(_vm._f(\"translate\")('_lp.class.config')))]),_vm._v(\" \"),_c('div',{staticClass:\"ml-auto d-flex\"},[_c('b-form-input',{staticStyle:{\"max-width\":\"200px\"},attrs:{\"placeholder\":_vm.$t('_lp.class.name')},model:{value:(_vm.classObj.name),callback:function ($$v) {_vm.$set(_vm.classObj, \"name\", $$v)},expression:\"classObj.name\"}}),_vm._v(\" \"),_c('div',[_c('i',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"mdi mdi-content-copy h4 ml-3 d-flex text-dark align-items-center mb-0 h-100\",attrs:{\"title\":_vm.$t(\"_lp.class.duplicate\")},on:{\"click\":function($event){return _vm.duplicate()}}})]),_vm._v(\" \"),_c('lp-delete',{attrs:{\"id\":this.$route.params.classId,\"color\":\"dark\"},on:{\"on-delete\":function($event){return _vm.$router.push((\"/school/\" + (_vm.$route.params.id)))}}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"overflow-auto\"},[(_vm.lessons.length === 0)?_c('div',{staticClass:\"text-center p-5\"},[_c('h5',[_vm._v(\"\\n        \"+_vm._s(_vm._f(\"translate\")('_lp.lesson.empty'))+\"\\n      \")]),_vm._v(\" \"),_c('b-button',{staticClass:\"mt-3\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.addLesson()}}},[_vm._v(\"\\n        \"+_vm._s(_vm._f(\"translate\")('_lp.lesson.add'))+\"\\n      \")])],1):_c('div',{staticClass:\"p-4\"},[_c('table',{staticClass:\"table border\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"bg-white\",attrs:{\"scope\":\"col\"}},[_vm._v(_vm._s(_vm._f(\"translate\")('_lp.lesson.title')))]),_vm._v(\" \"),_c('th',{staticClass:\"bg-white\",attrs:{\"scope\":\"col\"}},[_vm._v(\"\\n              \"+_vm._s(_vm._f(\"translate\")('_lp.lesson.hours'))+\"\\n              (\"+_vm._s(_vm.getAmountOfHours())+\")\\n            \")]),_vm._v(\" \"),_c('th',{staticClass:\"bg-white\",attrs:{\"scope\":\"col\"}},[_vm._v(_vm._s(_vm._f(\"translate\")('_lp.lesson.teachers')))]),_vm._v(\" \"),_c('th',{staticClass:\"bg-white\",attrs:{\"scope\":\"col\"}},[_vm._v(_vm._s(_vm._f(\"translate\")('_lp.lesson.lesson-ref')))]),_vm._v(\" \"),_c('th',{staticClass:\"bg-white\",attrs:{\"scope\":\"col\"}})])]),_vm._v(\" \"),_c('tbody',[_vm._l((_vm.lessons),function(lesson,index){return _c('tr',{key:lesson},[_c('th',[_c('b-form-input',{staticStyle:{\"max-width\":\"300px\"},attrs:{\"placeholder\":_vm.$t('_lp.class.name')},model:{value:(_vm.classObj.lessons[lesson].name),callback:function ($$v) {_vm.$set(_vm.classObj.lessons[lesson], \"name\", $$v)},expression:\"classObj.lessons[lesson].name\"}})],1),_vm._v(\" \"),_c('td',[_c('b-form-input',{staticStyle:{\"width\":\"80px\"},attrs:{\"placeholder\":_vm.$t('_lp.class.name')},model:{value:(_vm.classObj.lessons[lesson].hours),callback:function ($$v) {_vm.$set(_vm.classObj.lessons[lesson], \"hours\", $$v)},expression:\"classObj.lessons[lesson].hours\"}})],1),_vm._v(\" \"),_c('td',[_c('v-select',{staticStyle:{\"max-width\":\"300px\"},attrs:{\"options\":_vm.teacherOptions(),\"multiple\":\"\",\"reduce\":function (teacher) { return teacher.key; }},on:{\"change\":function($event){return _vm.$set(\n                  _vm.classObj.lessons[lesson],\n                  'teachers',\n                  _vm.classObj.lessons[lesson].teachers\n                )}},model:{value:(_vm.classObj.lessons[lesson].teachers),callback:function ($$v) {_vm.$set(_vm.classObj.lessons[lesson], \"teachers\", $$v)},expression:\"classObj.lessons[lesson].teachers\"}})],1),_vm._v(\" \"),_c('td',[_c('v-select',{staticStyle:{\"max-width\":\"300px\"},attrs:{\"options\":_vm.classReferenceOptions(),\"multiple\":\"\",\"reduce\":function (lesson) { return lesson.key; }},on:{\"change\":function($event){return _vm.$set(\n                  _vm.classObj.lessons[lesson],\n                  'lessons',\n                  _vm.classObj.lessons[lesson].lessons\n                )}},model:{value:(_vm.classObj.lessons[lesson].lessons),callback:function ($$v) {_vm.$set(_vm.classObj.lessons[lesson], \"lessons\", $$v)},expression:\"classObj.lessons[lesson].lessons\"}})],1),_vm._v(\" \"),_c('td',[_c('lp-delete',{attrs:{\"id\":lesson,\"color\":\"dark\"},on:{\"on-delete\":function($event){return _vm.lessons.splice(index, 1)}}})],1)])}),_vm._v(\" \"),_c('tr',[_c('td',{staticClass:\"bg-white text-right\"},[_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.addLesson()}}},[_vm._v(\"\\n                \"+_vm._s(_vm._f(\"translate\")('_lp.lesson.add'))+\"\\n              \")])],1),_vm._v(\" \"),_c('td',{staticClass:\"bg-white\"}),_vm._v(\" \"),_c('td',{staticClass:\"bg-white\"}),_vm._v(\" \"),_c('td',{staticClass:\"bg-white\"}),_vm._v(\" \"),_c('td',{staticClass:\"bg-white\"})])],2)])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bb9141b4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/SchoolClass.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bb9141b4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!postcss-loader?{\\\"sourceMap\\\":true}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SchoolClass.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SchoolClass.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SchoolClass.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bb9141b4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SchoolClass.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-bb9141b4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/SchoolClass.vue\n// module id = null\n// module chunks = ","import Router from 'vue-router';\nimport School from '@/components/School';\nimport Schools from '@/components/Schools';\nimport SchoolClass from '@/components/SchoolClass';\nimport Vue from 'vue';\n\nimport lessonPlanning from './LessonPlanning';\n\nVue.use(Router);\n\nexport default new Router({\n  mode: 'hash',\n  routes: [\n    { path: '', redirect: 'schools' },\n    { path: '/schools', name: 'schools', component: Schools },\n    {\n      path: '/school/:id',\n      component: School,\n      beforeEnter: (to, from, next) => {\n        if (!lessonPlanning[to.params.id]) {\n          next('/schools');\n        } else {\n          next();\n        }\n      },\n      children: [\n        {\n          path: '',\n          component: SchoolClass,\n          beforeEnter: (to, from, next) => {\n            const schoolId = to.params.id;\n            const classes = Object.keys(lessonPlanning[schoolId].classes);\n\n            if (classes.length > 0) {\n              next(`${to.path}/${classes[0]}`);\n            } else {\n              next();\n            }\n          },\n        },\n        {\n          path: ':classId',\n          name: 'school-class',\n          component: SchoolClass,\n          beforeEnter: (to, from, next) => {\n            if (!lessonPlanning[to.params.id].classes[to.params.classId]) {\n              next(to.path.replace(`/${to.params.classId}`, ''));\n            } else {\n              next();\n            }\n          },\n        },\n      ],\n    },\n  ],\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/router.js","import de from './de.json';\nimport en from './en.json';\n\nexport default { de, en };\n\n\n\n// WEBPACK FOOTER //\n// ./src/i18n/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport BootstrapVue from 'bootstrap-vue';\nimport vSelect from 'vue-select';\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport vuexI18n from 'vuex-i18n';\n\nimport App from './App';\nimport router from './router';\nimport translations from './i18n';\n\nVue.config.productionTip = false;\n\nVue.component('v-select', vSelect);\nVue.use(BootstrapVue);\nVue.use(Vuex);\n\n// setup vuex store\nconst store = new Vuex.Store({\n  state: { },\n  strict: false,\n});\n\n// setup i18n\nVue.use(vuexI18n.plugin, store);\nObject.keys(translations).forEach(key => Vue.i18n.add(key, translations[key]));\n// Vue.i18n.set(window.navigator.language.split('-')[0]);\nVue.i18n.set('de');\n\n/* eslint-disable no-new */\nexport default new Vue({\n  components: { App },\n  el: '#app',\n  router,\n  store,\n  template: '<App/>',\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}