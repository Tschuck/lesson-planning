webpackJsonp([1],{B4A8:function(t,e){t.exports={_lp:{cancel:"Abbrechen",class:{add:"Klasse hinzufügen",config:"Konfiguration",duplicate:"Duplizieren",empty:"Es wurden noch keine Klassen hinzufügt. Bitte fügen Sie eine Klasse hinzu.",multiple:"Klassen",name:"Name der Klasse",title:"Klasse"},close:"Schließen",days:{0:"Montag",1:"Dienstag",2:"Mittwoch",3:"Donnerstag",4:"Freitag"},delete:"Löschen","delete-long":"Wollen Sie wirklich fortfahren?",hour:"Stunde",lesson:{add:"Fach hinzufügen",empty:"Es wurden noch keine Fächer hinzufügt. Bitte fügen Sie ein Fach hinzu.",hours:"Stunden","lesson-ref":"Fach-Referenz",name:"Name des Faches",teachers:"Lehrer",title:"Fach"},school:{add:"Schule hinzufügen",export:"Schule exportieren",import:"Schule importieren","import-file":"Schule importieren","invalid-import":"Ungültige Datei",name:"Name der Schule",title:"Schule"},teachers:{add:"Lehrer hinzufügen",empty:"Es wurden noch kein Lehrer hinzufügt. Bitte fügen Sie einen Lehrer hinzu.",multiple:"Lehrer",name:"Name des Lehrers",teacher:"Lehrer",title:"Kollegium"},timetable:{create:"Stundenplan erstellen"},title:"Stundenplanung"}}},MFwc:function(t,e){},Pqu3:function(t,e){},Q11f:function(t,e){},UpdR:function(t,e){t.exports={_lp:{cancel:"Cancel",class:{add:"Add class",config:"Configuration",duplicate:"Duplizieren",empty:"No classes have been added yet. Please add a class.",multiple:"Classes","not-selected":"Choose a class or add a new one.",title:"Class"},close:"Close",days:{0:"Monday",1:"Tuesday",2:"Wednesday",3:"Thursday",4:"Friday"},delete:"Delete","delete-long":"Do you realy want to continue?",hour:"Hour",lesson:{add:"Add lesson",empty:"No lesson have been added yet. Please add a lesson.",hours:"Hours","lesson-ref":"Lesson reference",name:"Name of lesson",teachers:"Teachers",title:"Lesson"},school:{add:"Add school",export:"Export school",import:"Import School","import-file":"Import School","invalid-import":"Invalid file",name:"Name of school",title:"School"},teachers:{add:"Add teacher",empty:"No teacher has been added yet. Please add a teacher.",multiple:"Teachers",name:"Teacher name",teacher:"Teacher",title:"Teachers"},timetable:{create:"Generate Timetable"},title:"Lesson planning"}}},"b/Y3":function(t,e){},bPka:function(t,e){},fgy0:function(t,e){},iBW6:function(t,e){},lVK7:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("fZjL"),l=s.n(a),n=s("Tqaz"),o=s("T1ft"),r=s.n(o),i=s("7+uW"),c=s("NYxO"),h=s("kmDT"),d={name:"App",created:function(){document.title=this.$t("_lp.title")}},u={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view",{key:this.$route.fullPath})},staticRenderFns:[]};var p=s("VU/8")(d,u,!1,function(t){s("bPka")},null,null).exports,f=s("/ocq"),m=s("mvHQ"),v=s.n(m),_=s("pFYg"),b=s.n(_),g=s("Zrlr"),w=s.n(g),y=s("wxAW"),C=s.n(y);var x={generateUID:function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return""+t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}},$=new(function(){function t(){var e=this;w()(this,t);try{this.schools=JSON.parse(window.localStorage.schools)}catch(t){this.schools=[]}this.schools.forEach(function(t){try{e[t]=JSON.parse(window.localStorage[t])}catch(s){e[t]={name:"invalid school",error:!0}}}),window.addEventListener("beforeunload",function(){return e.save()})}return C()(t,[{key:"addClass",value:function(t){var e=x.generateUID();return this[t].classes[e]={lessons:{},name:lt.$t("_lp.class.title")+" - "+(l()(this[t].classes).length+1)},e}},{key:"addSchool",value:function(t){var e=x.generateUID();return this.schools.push(e),this[e]=t||{classes:{},lessons:{},name:lt.$t("_lp.school.title")+" - "+this.schools.length,teachers:{}},e}},{key:"addLesson",value:function(t,e){var s=x.generateUID(),a=l()(this[t].classes[e].lessons).length;return this[t].classes[e].lessons[s]={hours:0,lessons:[],name:lt.$t("_lp.lesson.title")+" "+(a+1),teachers:[]},s}},{key:"addTeacher",value:function(t){var e=x.generateUID(),s=l()(this[t].teachers).length;return this[t].teachers[e]={name:lt.$t("_lp.teachers.teacher")+" "+(s+1),days:[[1,2,3,4,5,6],[1,2,3,4,5,6],[1,2,3,4,5,6],[1,2,3,4,5,6],[1,2,3,4,5,6]]},e}},{key:"deleteId",value:function(t){var e=this;this.schools.forEach(function(s){!function e(s,a){s&&(Array.isArray(s[a])?s[a].forEach(function(t){return e(t)}):"object"===b()(s[a])&&null!==s[a]&&l()(s[a]).forEach(function(t){return e(s[a],t)}),t===a&&(Array.isArray(s)?s.splice(s.indexOf(a),1):s&&s[a]&&delete s[a]))}(e,s),s===t&&(delete window.localStorage[t],e.schools.splice(e.schools.indexOf(t),1))})}},{key:"duplicate",value:function(t,e){var s=this[t],a=JSON.parse(v()(s.classes[e]));a.lessons={},l()(s.classes[e].lessons).forEach(function(t){var l=s.classes[e].lessons[t],n=JSON.parse(v()(l));n.teachers=[],n.lessons=[],a.lessons[x.generateUID()]=n});var n=x.generateUID();return this[t].classes[n]=a,n}},{key:"save",value:function(){var t=this;window.localStorage.schools=v()(this.schools),this.schools.forEach(function(e){window.localStorage[e]=v()(t[e])})}}]),t}()),k={name:"Delete",data:function(){return{lessonPlanning:$}},props:["id","color"]},S={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mdi mdi-delete h4 ml-3 d-flex align-items-center mb-0 h-100",class:"text-"+t.color,attrs:{title:t.$t("_lp.delete")},on:{click:function(e){return t.$refs.deleteModal.show()}}}),t._v(" "),s("b-modal",{ref:"deleteModal",attrs:{title:t.$t("_lp.delete"),"hide-footer":""}},[s("p",{staticClass:"my-4"},[t._v("\n      "+t._s(t._f("translate")("_lp.delete-long"))+"\n    ")]),t._v(" "),s("div",{staticClass:"text-right"},[s("b-button",{staticClass:"mt-3",on:{click:function(e){return t.$refs.deleteModal.hide()}}},[t._v("\n        "+t._s(t._f("translate")("_lp.cancel"))+"\n      ")]),t._v(" "),s("b-button",{staticClass:"mt-3",attrs:{variant:"danger"},on:{click:function(e){t.$refs.deleteModal.hide(),t.lessonPlanning.deleteId(t.id),t.$emit("on-delete")}}},[t._v("\n        "+t._s(t._f("translate")("_lp.delete"))+"\n      ")])],1)])],1)},staticRenderFns:[]};var E=s("VU/8")(k,S,!1,function(t){s("iBW6")},"data-v-8f769416",null).exports,O={render:function(){var t=this.$createElement,e=this._self._c||t;return e("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"primary"}},[e("b-navbar-brand",{staticClass:"d-flex align-items-center"},[e("router-link",{attrs:{to:"/"}},[e("svg",{attrs:{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"40px",height:"40px",viewBox:"0 0 512.000000 512.000000",preserveAspectRatio:"xMidYMid meet"}},[e("g",{attrs:{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",fill:"#ffffff",stroke:"none"}},[e("path",{attrs:{d:"M2470 4136 c-71 -19 -2444 -857 -2457 -868 -7 -6 -13 -21 -13 -35 0\n        -19 9 -28 42 -43 24 -10 583 -229 1243 -485 1087 -424 1203 -467 1245 -463 27\n        3 489 178 1175 445 l1130 441 3 -551 2 -551 -36 -30 c-97 -79 -96 -223 0 -303\n        l37 -30 -15 -37 c-45 -108 -102 -395 -94 -476 17 -175 241 -236 352 -97 27 34\n        31 48 34 115 5 110 -49 364 -102 483 -5 10 1 20 19 29 14 8 39 34 55 59 25 37\n        30 54 30 106 0 51 -5 69 -28 104 -15 23 -38 48 -50 57 l-22 15 0 590 c0 424 3\n        594 11 608 8 12 9 23 2 36 -7 12 -384 149 -1237 450 -674 238 -1239 435 -1254\n        438 -15 3 -47 -1 -72 -7z"}}),this._v(" "),e("path",{attrs:{d:"M782 2358 c4 -348 6 -377 26 -438 139 -420 772 -737 1579 -789 399\n        -26 902 70 1260 239 305 145 500 327 577 538 19 53 20 84 24 441 3 314 1 383\n        -10 378 -522 -209 -1696 -657 -1721 -657 -21 0 -360 127 -882 330 -465 182\n        -849 330 -852 330 -3 0 -3 -168 -1 -372z"}})])])]),this._v(" "),e("div",{staticClass:"text-white ml-3"},[this._v("\n      "+this._s(this._f("translate")("_lp.title"))+"\n    ")])],1),this._v(" "),this._t("default")],2)},staticRenderFns:[]},I=s("VU/8")({name:"Header"},O,!1,null,null,null).exports,N={name:"Schools",components:{"lp-delete":E},data:function(){var t=$[this.$route.params.id];return{classes:l()(t.classes),school:t,teachers:l()(t.teachers)}},methods:{addTeacher:function(){var t=$.addTeacher(this.$route.params.id);this.teachers.push(t)},hide:function(){this.$hide()},show:function(){this.$refs.teacherModal.show()}}},j={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-modal",{ref:"teacherModal",attrs:{title:t.$t("_lp.teachers.title"),"hide-footer":"",size:"xl"}},[0===t.teachers.length?s("div",{staticClass:"text-center p-5"},[s("p",[t._v("\n        "+t._s(t._f("translate")("_lp.teachers.empty"))+"\n      ")]),t._v(" "),s("b-button",{staticClass:"mt-3",attrs:{variant:"primary"},on:{click:function(e){return t.addTeacher()}}},[t._v("\n        "+t._s(t._f("translate")("_lp.teachers.add"))+"\n      ")])],1):s("div",[s("table",{staticClass:"table border"},[s("thead",[s("tr",[s("th",{staticClass:"bg-white",attrs:{scope:"col"}},[t._v(t._s(t._f("translate")("_lp.teachers.name")))]),t._v(" "),s("th",{staticClass:"bg-white",attrs:{scope:"col"}},[t._v(t._s(t._f("translate")("_lp.days.0")))]),t._v(" "),s("th",{staticClass:"bg-white",attrs:{scope:"col"}},[t._v(t._s(t._f("translate")("_lp.days.1")))]),t._v(" "),s("th",{staticClass:"bg-white",attrs:{scope:"col"}},[t._v(t._s(t._f("translate")("_lp.days.2")))]),t._v(" "),s("th",{staticClass:"bg-white",attrs:{scope:"col"}},[t._v(t._s(t._f("translate")("_lp.days.3")))]),t._v(" "),s("th",{staticClass:"bg-white",attrs:{scope:"col"}},[t._v(t._s(t._f("translate")("_lp.days.4")))]),t._v(" "),s("th",{staticClass:"bg-white",attrs:{scope:"col"}})])]),t._v(" "),s("tbody",[t._l(t.teachers,function(e,a){return s("tr",{key:e,staticClass:"bg-light"},[s("th",[s("b-form-input",{attrs:{placeholder:t.$t("_lp.teachers.name")},model:{value:t.school.teachers[e].name,callback:function(s){t.$set(t.school.teachers[e],"name",s)},expression:"school.teachers[teacher].name"}})],1),t._v(" "),t._l(t.school.teachers[e].days,function(a,l){return s("td",{key:l},[s("v-select",{attrs:{options:[1,2,3,4,5,6,7,8],multiple:""},on:{change:function(s){return t.$set(t.school.teachers[e].days,l,t.school.teachers[e].days[l])}},model:{value:t.school.teachers[e].days[l],callback:function(s){t.$set(t.school.teachers[e].days,l,s)},expression:"school.teachers[teacher].days[index]"}})],1)}),t._v(" "),s("td",[s("lp-delete",{attrs:{id:e,color:"dark"},on:{"on-delete":function(e){return t.teachers.splice(a,1)}}})],1)],2)}),t._v(" "),s("tr",[s("td",{staticClass:"text-right table-light border-top"},[s("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.addTeacher()}}},[t._v("\n                "+t._s(t._f("translate")("_lp.teachers.add"))+"\n              ")])],1),t._v(" "),s("td",{staticClass:"table-light border-top"}),t._v(" "),s("td",{staticClass:"table-light border-top"}),t._v(" "),s("td",{staticClass:"table-light border-top"}),t._v(" "),s("td",{staticClass:"table-light border-top"}),t._v(" "),s("td",{staticClass:"table-light border-top"}),t._v(" "),s("td",{staticClass:"table-light border-top"})])],2)])]),t._v(" "),s("div",{staticClass:"text-right"},[s("b-button",{staticClass:"mt-3",on:{click:function(e){return t.hide()}}},[t._v("\n        "+t._s(t._f("translate")("_lp.close"))+"\n      ")])],1)])],1)},staticRenderFns:[]};var M=s("VU/8")(N,j,!1,function(t){s("Pqu3")},"data-v-0e09c380",null).exports,F={name:"Timetable",props:["timetable","type"],data:function(){var t=0;return this.timetable.plan.forEach(function(e){t<e.length&&(t=e.length)}),{days:new Array(5),hours:new Array(t),teachers:$[this.$route.params.id].teachers}},methods:{}},T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"px-5 py-3"},[s("h3",[t._v(t._s(t.timetable.name))]),t._v(" "),s("table",{staticClass:"table border"},[s("thead",[s("tr",[s("th",{staticClass:"bg-white",attrs:{scope:"col"}},[t._v(t._s(t._f("translate")("_lp.hour")))]),t._v(" "),s("th",{staticClass:"bg-white",attrs:{scope:"col"}},[t._v(t._s(t._f("translate")("_lp.days.0")))]),t._v(" "),s("th",{staticClass:"bg-white",attrs:{scope:"col"}},[t._v(t._s(t._f("translate")("_lp.days.1")))]),t._v(" "),s("th",{staticClass:"bg-white",attrs:{scope:"col"}},[t._v(t._s(t._f("translate")("_lp.days.2")))]),t._v(" "),s("th",{staticClass:"bg-white",attrs:{scope:"col"}},[t._v(t._s(t._f("translate")("_lp.days.3")))]),t._v(" "),s("th",{staticClass:"bg-white",attrs:{scope:"col"}},[t._v(t._s(t._f("translate")("_lp.days.4")))])])]),t._v(" "),s("tbody",t._l(t.hours,function(e,a){return s("tr",{key:a,staticClass:"bg-light"},[s("th",[t._v(t._s(a+1))]),t._v(" "),t._l(t.days,function(e,l){return s("td",{key:l},[t.timetable.plan[l][a]?["class"===t.type?[s("b",[t._v(t._s(t.timetable.plan[l][a].lessonName))]),t._v(" "),s("p",{staticClass:"mb-0"},t._l(t.timetable.plan[l][a].teachers,function(e){return s("span",{key:e},[t._v("\n                  "+t._s(t.teachers[e].name)+"\n                ")])}),0)]:t._e(),t._v(" "),"teacher"===t.type?[s("b",[t._v(t._s(t.timetable.plan[l][a].className))]),t._v(" "),s("p",{staticClass:"mb-0"},[t._v("\n                "+t._s(t.timetable.plan[l][a].lessonName)+"\n              ")])]:t._e()]:t._e()],2)})],2)}),0)])])},staticRenderFns:[]};var A=s("VU/8")(F,T,!1,function(t){s("wJC1")},"data-v-23af5c1c",null).exports,U=s("Gu7T"),V=s.n(U),L=function(){return[[],[],[],[],[]]},z=function(){function t(e){var s=this;w()(this,t);var a=$[e];this.schoolId=$[e],this.classes=a.classes,this.teachers=a.teachers,[].concat(V()(l()(this.classes)),V()(l()(this.teachers))).forEach(function(t){s[t]=L()})}return C()(t,[{key:"getFlat",value:function(){var t=this,e=[];return l()(this.classes).forEach(function(s){var a=t.classes[s];l()(a.lessons).forEach(function(t){for(var l=a.lessons[t],n=0;n<l.hours;n++)e.push({classId:s,lessonId:t,className:a.name,lessonName:l.name,lessons:l.lessons,teachers:l.teachers})})}),e}},{key:"generate",value:function(){var t=this;this.getFlat().forEach(function(e){for(var s=e.classId,a=e.teachers,l=t[s],n=[].concat(l).sort(function(t,e){return t.length-e.length}),o=0,r=void 0,i=0,c=void 0;!c;){var h=n[r=l.indexOf(n[o])];if(console.log("Checking : "+r+" - "+i),h.length>=8)throw new Error("Toooo many hours");var d=!0;if(l[r][i]?d=!1:a.forEach(function(e){var s=t.teachers[e],a=t[e][r];-1===s.days[r].indexOf(i+1)?d=!1:a[i]&&(d=!1)}),d)c=!0;else if(5===++o){if(8===i)throw new Error("No slot found!");o=0,i++}}if(o>=6)throw new Error("Toooo many days");l[r][i]=e,a.forEach(function(s){t[s][r][i]=e})});var e=[];l()(this.classes).forEach(function(s){e.push({name:t.classes[s].name,plan:t[s]})});var s=[];return l()(this.teachers).forEach(function(e){s.push({name:t.teachers[e].name,plan:t[e]})}),{classes:e,teachers:s}}}]),t}(),P={name:"Schools",components:{"lp-timetable":A},data:function(){return{active:!1,activeView:0,plans:null}},methods:{toggle:function(){this.active=!this.active,this.active?this.plans=new z(this.$route.params.id).generate():this.plans=null,console.log(this.plans)}}},R={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"timetable-overview",class:{active:t.active}},[s("div",{staticClass:"toggle",on:{click:function(e){return t.toggle()}}},[s("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mdi mdi-timetable h4 ml-3 d-flex text-white align-items-center mb-0 h-100",attrs:{title:t.$t("_lp.timetable.create")}})]),t._v(" "),s("div",{staticClass:"d-flex flex-column",staticStyle:{"max-height":"100%"}},[s("div",{staticClass:"py-1 px-5 d-flex border-bottom"},[s("div",{staticClass:"p-3",class:{"bg-primary text-light":0===t.activeView},on:{click:function(e){t.activeView=0}}},[t._v("\n        "+t._s(t._f("translate")("_lp.class.multiple"))+"\n      ")]),t._v(" "),s("div",{staticClass:"p-3",class:{"bg-primary text-light":1===t.activeView},on:{click:function(e){t.activeView=1}}},[t._v("\n        "+t._s(t._f("translate")("_lp.teachers.multiple"))+"\n      ")])]),t._v(" "),t.plans?s("div",{staticClass:"overflow-auto"},t._l(t.plans[0===t.activeView?"classes":"teachers"],function(e,a){return s("lp-timetable",{key:t.activeView+"-"+a,attrs:{timetable:e,type:0===t.activeView?"class":"teacher"}})}),1):t._e()])])},staticRenderFns:[]};var D={name:"Schools",components:{"lp-delete":E,"lp-header":I,"lp-teachers":M,"lp-timetable-overview":s("VU/8")(P,R,!1,function(t){s("Q11f")},"data-v-754e2adc",null).exports},data:function(){var t=$[this.$route.params.id];return{classes:l()(t.classes),school:t}},methods:{addClass:function(){var t=$.addClass(this.$route.params.id);this.classes.push(t),this.$router.push("/school/"+this.$route.params.id+"/"+t)},exportSchool:function(){var t="data:text/json;charset=utf-8, "+encodeURIComponent(v()(this.school)),e=document.createElement("a");e.setAttribute("href",t),e.setAttribute("download",this.school.name+".json"),document.body.appendChild(e),e.click(),e.remove()}}},K={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"h-100 d-flex flex-column"},[s("lp-header",[s("b-navbar-nav",{staticClass:"ml-auto d-flex"},[s("b-form-input",{staticStyle:{"max-width":"200px"},attrs:{placeholder:t.$t("_lp.school.name")},model:{value:t.school.name,callback:function(e){t.$set(t.school,"name",e)},expression:"school.name"}}),t._v(" "),s("div",[s("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mdi mdi-account-multiple h4 ml-3 d-flex text-white align-items-center mb-0 h-100",attrs:{title:t.$t("_lp.teachers.title")},on:{click:function(e){return t.$refs.teacherModal.show()}}})]),t._v(" "),s("div",[s("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mdi mdi-download h4 ml-3 d-flex text-white align-items-center mb-0 h-100",attrs:{title:t.$t("_lp.school.export")},on:{click:function(e){return t.exportSchool()}}})]),t._v(" "),s("lp-delete",{attrs:{id:this.$route.params.id,color:"white"},on:{"on-delete":function(e){return t.$router.push("/")}}})],1)],1),t._v(" "),s("div",{staticClass:"row",staticStyle:{height:"calc(100% - 66px)"}},[s("b-nav",{staticClass:"col-lg-2 col-md-3 border-right pr-0 overflow-auto flex-nowrap bg-light",staticStyle:{"max-height":"100%"},attrs:{vertical:""}},[t._l(t.classes,function(e){return s("b-nav-item",{key:e,staticClass:"border-bottom px-3 py-2",style:"border-right: "+(t.$route.params.classId===e?"5px solid #dcd1d8":"0"),attrs:{to:"/school/"+t.$route.params.id+"/"+e}},[t._v("\n        "+t._s(t.school.classes[e].name)+"\n      ")])}),t._v(" "),s("b-nav-item",{staticClass:"border-bottom px-3 py-2",on:{click:function(e){return t.addClass()}}},[s("i",{staticClass:"mdi mdi-plus"}),t._v("\n        "+t._s(t._f("translate")("_lp.class.add"))+"\n      ")])],2),t._v(" "),s("div",{staticClass:"col-lg-10 col-md-9 overflow-auto",staticStyle:{"max-height":"100%"}},[s("div",{staticClass:"p-4 h-100"},[t.$route.params.classId?s("router-view"):s("div",{staticClass:"text-center p-5"},[s("h5",[t._v("\n            "+t._s(t._f("translate")("_lp.class.empty"))+"\n          ")]),t._v(" "),s("b-button",{staticClass:"mt-3",attrs:{variant:"primary"},on:{click:function(e){return t.addClass()}}},[t._v("\n            "+t._s(t._f("translate")("_lp.class.add"))+"\n          ")])],1)],1)])],1),t._v(" "),s("lp-teachers",{ref:"teacherModal"}),t._v(" "),s("lp-timetable-overview")],1)},staticRenderFns:[]};var B=s("VU/8")(D,K,!1,function(t){s("MFwc")},"data-v-13b2a576",null).exports,J={name:"Schools",components:{"lp-header":I},data:function(){return{importError:!1,lessonPlanning:$,schools:$.schools}},methods:{importSchool:function(){var t=this,e=new FileReader;e.onload=function(e){try{var s=$.addSchool(JSON.parse(e.target.result));t.importError=!1,t.$refs.importModal.hide(),t.$router.push("/school/"+s)}catch(e){console.error(e.message),t.importError=!0}},e.readAsText(this.$refs.schoolImport.files[0])}}},W={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("lp-header",[s("b-navbar-nav",{staticClass:"ml-auto d-flex"},[s("div",[s("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mdi mdi-plus-circle h4 ml-3 d-flex text-white align-items-center mb-0 h-100",attrs:{title:t.$t("_lp.school.add")},on:{click:function(e){return t.lessonPlanning.addSchool()}}})]),t._v(" "),s("div",[s("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mdi mdi-upload h4 ml-3 d-flex text-white align-items-center mb-0 h-100",attrs:{title:t.$t("_lp.school.import")},on:{click:function(e){return t.$refs.importModal.show()}}})])])],1),t._v(" "),s("b-modal",{ref:"importModal",attrs:{title:t.$t("_lp.school.import"),"hide-footer":""}},[s("div",{staticClass:"custom-file"},[s("input",{ref:"schoolImport",staticClass:"custom-file-input",attrs:{accept:".json",id:"schoolImport",type:"file"},on:{change:function(e){return t.importSchool()}}}),t._v(" "),t.importError?s("p",{staticClass:"text-danger"},[t._v("\n          "+t._s(t._f("translate")("_lp.school.invalid-import"))+"\n        ")]):t._e(),t._v(" "),s("label",{staticClass:"custom-file-label",attrs:{for:"schoolImport"}},[t._v("\n        "+t._s(t._f("translate")("_lp.school.import-file"))+"\n      ")])]),t._v(" "),s("div",{staticClass:"text-right"},[s("b-button",{staticClass:"mt-3",on:{click:function(e){return t.$refs.importModal.hide()}}},[t._v("\n        "+t._s(t._f("translate")("_lp.close"))+"\n      ")])],1)]),t._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"row"},t._l(t.schools,function(e){return s("router-link",{key:e,staticClass:"col-md-3 p-3",attrs:{event:t.lessonPlanning[e].error?"":"click",to:"school/"+e}},[s("b-card",{class:{"bg-danger text-white":t.lessonPlanning[e].error},staticStyle:{height:"80px"}},[s("b-card-title",{staticClass:"mb-0 d-flex align-items-center",staticStyle:{height:"100%"}},[s("h4",{staticClass:"mb-0"},[t._v(t._s(t.lessonPlanning[e].name))])])],1)],1)}),1)])],1)},staticRenderFns:[]};var Y=s("VU/8")(J,W,!1,function(t){s("fgy0")},"data-v-d41d139c",null).exports,q={name:"Schools",components:{"lp-delete":E,"lp-header":I},data:function(){var t=$[this.$route.params.id].classes[this.$route.params.classId];return{classObj:t,lessonPlanning:$,lessons:l()(t.lessons),school:$[this.$route.params.id]}},methods:{addLesson:function(){var t=$.addLesson(this.$route.params.id,this.$route.params.classId);this.lessons.push(t)},duplicate:function(){var t=$.duplicate(this.$route.params.id,this.$route.params.classId);this.$router.push("/school/"+this.$route.params.id+"/"+t)},teacherOptions:function(){var t=$[this.$route.params.id],e=t.teachers;return l()(e).map(function(e){return{label:t.teachers[e].name,key:e}})},classReferenceOptions:function(){var t=$[this.$route.params.id].classes,e=[];return l()(t).forEach(function(s){return l()(t[s].lessons).forEach(function(a){return e.push({label:t[s].name+" - "+t[s].lessons[a].name,key:a})})}),e}}},H={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-light h-100 border shadow d-flex flex-column"},[s("div",{staticClass:"d-flex align-items-center pt-4 px-4"},[s("h4",{staticClass:"mb-0"},[t._v(t._s(t._f("translate")("_lp.class.config")))]),t._v(" "),s("div",{staticClass:"ml-auto d-flex"},[s("b-form-input",{staticStyle:{"max-width":"200px"},attrs:{placeholder:t.$t("_lp.class.name")},model:{value:t.classObj.name,callback:function(e){t.$set(t.classObj,"name",e)},expression:"classObj.name"}}),t._v(" "),s("div",[s("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mdi mdi-content-copy h4 ml-3 d-flex text-dark align-items-center mb-0 h-100",attrs:{title:t.$t("_lp.class.duplicate")},on:{click:function(e){return t.duplicate()}}})]),t._v(" "),s("lp-delete",{attrs:{id:this.$route.params.classId,color:"dark"},on:{"on-delete":function(e){return t.$router.push("/school/"+t.$route.params.id)}}})],1)]),t._v(" "),s("div",{staticClass:"overflow-auto"},[0===t.lessons.length?s("div",{staticClass:"text-center p-5"},[s("h5",[t._v("\n        "+t._s(t._f("translate")("_lp.lesson.empty"))+"\n      ")]),t._v(" "),s("b-button",{staticClass:"mt-3",attrs:{variant:"primary"},on:{click:function(e){return t.addLesson()}}},[t._v("\n        "+t._s(t._f("translate")("_lp.lesson.add"))+"\n      ")])],1):s("div",{staticClass:"p-4"},[s("table",{staticClass:"table border"},[s("thead",[s("tr",[s("th",{staticClass:"bg-white",attrs:{scope:"col"}},[t._v(t._s(t._f("translate")("_lp.lesson.title")))]),t._v(" "),s("th",{staticClass:"bg-white",attrs:{scope:"col"}},[t._v(t._s(t._f("translate")("_lp.lesson.hours")))]),t._v(" "),s("th",{staticClass:"bg-white",attrs:{scope:"col"}},[t._v(t._s(t._f("translate")("_lp.lesson.teachers")))]),t._v(" "),s("th",{staticClass:"bg-white",attrs:{scope:"col"}},[t._v(t._s(t._f("translate")("_lp.lesson.lesson-ref")))]),t._v(" "),s("th",{staticClass:"bg-white",attrs:{scope:"col"}})])]),t._v(" "),s("tbody",[t._l(t.lessons,function(e,a){return s("tr",{key:e},[s("th",[s("b-form-input",{staticStyle:{"max-width":"300px"},attrs:{placeholder:t.$t("_lp.class.name")},model:{value:t.classObj.lessons[e].name,callback:function(s){t.$set(t.classObj.lessons[e],"name",s)},expression:"classObj.lessons[lesson].name"}})],1),t._v(" "),s("td",[s("b-form-input",{staticStyle:{width:"80px"},attrs:{placeholder:t.$t("_lp.class.name")},model:{value:t.classObj.lessons[e].hours,callback:function(s){t.$set(t.classObj.lessons[e],"hours",s)},expression:"classObj.lessons[lesson].hours"}})],1),t._v(" "),s("td",[s("v-select",{staticStyle:{"max-width":"300px"},attrs:{options:t.teacherOptions(),multiple:"",reduce:function(t){return t.key}},on:{change:function(s){return t.$set(t.classObj.lessons[e],"teachers",t.classObj.lessons[e].teachers)}},model:{value:t.classObj.lessons[e].teachers,callback:function(s){t.$set(t.classObj.lessons[e],"teachers",s)},expression:"classObj.lessons[lesson].teachers"}})],1),t._v(" "),s("td",[s("v-select",{staticStyle:{"max-width":"300px"},attrs:{options:t.classReferenceOptions(),multiple:"",reduce:function(t){return t.key}},on:{change:function(s){return t.$set(t.classObj.lessons[e],"lessons",t.classObj.lessons[e].lessons)}},model:{value:t.classObj.lessons[e].lessons,callback:function(s){t.$set(t.classObj.lessons[e],"lessons",s)},expression:"classObj.lessons[lesson].lessons"}})],1),t._v(" "),s("td",[s("lp-delete",{attrs:{id:e,color:"dark"},on:{"on-delete":function(e){return t.lessons.splice(a,1)}}})],1)])}),t._v(" "),s("tr",[s("td",{staticClass:"bg-white text-right"},[s("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.addLesson()}}},[t._v("\n                "+t._s(t._f("translate")("_lp.lesson.add"))+"\n              ")])],1),t._v(" "),s("td",{staticClass:"bg-white"}),t._v(" "),s("td",{staticClass:"bg-white"}),t._v(" "),s("td",{staticClass:"bg-white"}),t._v(" "),s("td",{staticClass:"bg-white"})])],2)])])])])},staticRenderFns:[]};var Q=s("VU/8")(q,H,!1,function(t){s("b/Y3")},"data-v-2b48f6fe",null).exports;i.default.use(f.a);var G=new f.a({mode:"hash",routes:[{path:"",redirect:"schools"},{path:"/schools",name:"schools",component:Y},{path:"/school/:id",component:B,beforeEnter:function(t,e,s){$[t.params.id]?s():s("/schools")},children:[{path:"",component:Q,beforeEnter:function(t,e,s){var a=t.params.id,n=l()($[a].classes);n.length>0?s(t.path+"/"+n[0]):s()}},{path:":classId",name:"school-class",component:Q,beforeEnter:function(t,e,s){$[t.params.id].classes[t.params.classId]?s():s(t.path.replace("/"+t.params.classId,""))}}]}]}),Z=s("B4A8"),X=s.n(Z),tt=s("UpdR"),et=s.n(tt),st={de:X.a,en:et.a};i.default.config.productionTip=!1,i.default.component("v-select",r.a),i.default.use(n.a),i.default.use(c.a);var at=new c.a.Store({state:{},strict:!1});i.default.use(h.a.plugin,at),l()(st).forEach(function(t){return i.default.i18n.add(t,st[t])}),i.default.i18n.set("de");var lt=e.default=new i.default({components:{App:p},el:"#app",router:G,store:at,template:"<App/>"})},wJC1:function(t,e){}},["lVK7"]);
//# sourceMappingURL=app.4536191fe7e6cd9aefd3.js.map